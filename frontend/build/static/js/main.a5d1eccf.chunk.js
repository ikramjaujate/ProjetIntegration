(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},339:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(25),o=a.n(s),l=(a(194),a(127),a(195),a(1));var i=function(){return Object(l.jsx)("nav",{className:"navbar-main",children:Object(l.jsxs)("ul",{className:"navbar-nav",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"house",className:"svg-inline--fa fa-house",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"})}),Object(l.jsx)("span",{className:"link-text",children:"Accueil"})]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"video",className:"svg-inline--fa fa-video",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"})}),Object(l.jsx)("span",{className:"link-text",children:"Cam\xe9ras"})]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chart-bar",className:"svg-inline--fa fa-chart-bar",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M140.8 160h230.5C377.6 160 384 153.6 384 147.3v-38.5C384 102.4 377.6 96 371.3 96h-230.5C134.4 96 128 102.4 128 108.8v38.5C128 153.6 134.4 160 140.8 160zM140.8 256h166.5C313.6 256 320 249.6 320 243.3v-38.5C320 198.4 313.6 192 307.3 192h-166.5C134.4 192 128 198.4 128 204.8v38.5C128 249.6 134.4 256 140.8 256zM140.8 352h294.5C441.6 352 448 345.6 448 339.3v-38.5C448 294.4 441.6 288 435.3 288h-294.5C134.4 288 128 294.4 128 300.8v38.5C128 345.6 134.4 352 140.8 352zM480 416H64V63.1C64 46.33 49.67 32 32 32S0 46.33 0 63.1V448c0 17.6 14.4 32 32 32h448C497.7 480 512 465.7 512 448S497.7 416 480 416z"})}),Object(l.jsx)("span",{className:"link-text",children:"Grades"})]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"users",className:"svg-inline--fa fa-users",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"})}),Object(l.jsx)("span",{className:"link-text",children:"Membres"})]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"image",className:"svg-inline--fa fa-image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M152 120c-26.51 0-48 21.49-48 48s21.49 48 48 48s48-21.49 48-48S178.5 120 152 120zM447.1 32h-384C28.65 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM463.1 409.3l-136.8-185.9C323.8 218.8 318.1 216 312 216c-6.113 0-11.82 2.768-15.21 7.379l-106.6 144.1l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L47.99 96c0-8.822 7.178-16 16-16h384c8.822 0 16 7.178 16 16V409.3z"})}),Object(l.jsx)("span",{className:"link-text",children:"Galerie"})]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"gears",className:"svg-inline--fa fa-gears",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M314.6 216.6L285.6 199.9C287.1 192.1 288 184.2 288 176.1C288 167.8 287.1 159.8 285.6 151.1L314.6 135.2c4.293-2.48 6.445-7.695 4.883-12.4C312.2 100.1 300.6 81.11 285.7 64.28C283.7 62.03 280.9 60.87 278 60.87c-1.861 0-3.736 .4785-5.42 1.449L243 79.41C231 69.11 217.3 61.07 202.1 55.75V21.65c0-4.943-3.418-9.348-8.258-10.36C182.9 9.002 171.6 7.67 160 7.67c-11.61 0-22.88 1.342-33.81 3.632c-4.84 1.016-8.248 5.41-8.248 10.35v34.09C102.7 61.07 88.96 69.11 76.98 79.41L47.39 62.32C45.71 61.35 43.83 60.87 41.97 60.87c-2.893 0-5.648 1.169-7.652 3.427C19.39 81.12 7.758 100.1 .5078 122.8C-1.053 127.5 1.098 132.7 5.391 135.2l29.04 16.77C32.93 159.8 32 167.8 32 176.1c0 8.137 .9434 16.04 2.395 23.75L5.391 216.6C1.098 219.1-1.053 224.3 .5078 228.1c7.25 21.83 18.79 41.69 33.71 58.52C36.22 289.8 39.08 290.9 41.97 290.9c1.861 0 3.738-.4785 5.42-1.449L76.7 272.6c12.04 10.41 25.91 18.53 41.24 23.89v33.69c0 4.941 3.419 9.279 8.258 10.29C137.1 342.7 148.4 344.1 160 344.1c11.61 0 22.88-1.411 33.81-3.7c4.84-1.016 8.247-5.343 8.247-10.28V296.5c15.34-5.365 29.2-13.49 41.24-23.9L272.6 289.5c1.68 .9707 3.559 1.449 5.42 1.449c2.891 0 5.646-1.238 7.652-3.498c14.92-16.83 26.56-36.6 33.81-58.44C321.1 224.3 318.9 219.1 314.6 216.6zM160 224.1c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48S186.5 224.1 160 224.1zM628.5 318.2c-1.016-4.84-5.412-8.248-10.36-8.248h-34.09c-5.324-15.22-13.36-28.98-23.66-40.96l17.09-29.6c.9707-1.68 1.449-3.559 1.449-5.42c0-2.893-1.167-5.648-3.425-7.652c-16.83-14.92-36.67-26.56-58.51-33.81c-4.703-1.561-9.918 .5898-12.4 4.883l-16.77 29.04C479.1 224.9 471.1 224 463.7 224c-8.137 0-16.04 .9434-23.75 2.395L423.2 197.4c-2.48-4.293-7.699-6.443-12.4-4.883c-21.83 7.25-41.69 18.79-58.52 33.71c-2.26 2.004-3.419 4.857-3.419 7.748c0 1.861 .4795 3.738 1.45 5.42l16.92 29.31c-10.41 12.04-18.53 25.91-23.89 41.24H309.6c-4.941 0-9.496 3.393-10.51 8.232C296.8 329.1 295.7 340.4 295.7 352c0 11.61 1.184 22.9 3.473 33.82C300.1 390.7 304.7 394.1 309.6 394.1h33.69c5.365 15.34 13.49 29.2 23.9 41.24l-16.92 29.31c-.9707 1.68-1.45 3.559-1.45 5.42c0 2.891 1.044 5.742 3.304 7.748c16.83 14.92 36.8 26.46 58.63 33.71c4.703 1.562 9.922-.5898 12.4-4.883l16.74-29C447.6 479.1 455.5 480 463.7 480c8.268 0 16.3-.9336 24.13-2.432l16.77 29.04c2.48 4.293 7.695 6.445 12.4 4.883c21.84-7.25 41.69-18.9 58.52-33.82c2.258-2.006 3.414-4.751 3.414-7.642c0-1.861-.4785-3.736-1.449-5.42l-17.09-29.6c10.29-11.98 18.34-25.74 23.66-40.96h34.09c4.943 0 9.35-3.418 10.37-8.258C630.8 374.9 632.1 363.6 632.1 352C632.1 340.4 630.8 329.1 628.5 318.2zM463.7 400c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48S490.2 400 463.7 400z"})}),Object(l.jsx)("span",{className:"link-text",children:"Param\xe8tres"})]})})]})})},r=a(6),d=(a(66),a(99),a(75),a(138),a(100),a(96)),b=a(27),j=(a(140),a(35),function(e){var t=e.name,a=e.color,c=e.members,n=e.allowed_camera,s=e.refused_camera;return Object(l.jsx)("div",{className:"row p-1 justify-content-center card-grade",children:Object(l.jsxs)("div",{type:"button",className:"p-1 bg-light shadow-sm rounded row col-10 col-md-9 col-lg-7 col-xl-6","data-bs-toggle":"modal","data-bs-target":"#gradeModal",children:[Object(l.jsx)("div",{className:"rounded bg-person col-12 col-sm-3",style:{backgroundColor:a},children:Object(l.jsx)("i",{className:"bi bi-people icon-person"})}),Object(l.jsx)("div",{className:"align-self-center name-grade col-8 col-sm-6",children:t}),Object(l.jsxs)("div",{className:"layout-nbr-camera p-0 col align-self-end row col-4 col-sm-3",children:[Object(l.jsxs)("div",{className:"p-0 informations col-6",children:[n," ",Object(l.jsx)("i",{className:"bi bi-camera-video-fill allowed-camera"})]}),Object(l.jsxs)("div",{className:"p-0 informations col-6",children:[s," ",Object(l.jsx)("i",{className:"bi bi-camera-video-fill refused-camera"})]}),Object(l.jsxs)("div",{className:"p-0 informations col-12",children:[c," ",c>1?"membres":"membre"]})]})]})})}),m=a(188),u=function(e){var t=e.id,a=e.className,c=e.text,n=e.targetToggle,s=e.dataToggle,o=e.dataDismiss,i=e.ariaLabel,r=e.func1,d=e.param1,b=e.func2,j=e.param2;return void 0===r?Object(l.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":s,"data-bs-dismiss":o,"aria-label":i,children:c}):void 0===b?Object(l.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":s,"data-bs-dismiss":o,"aria-label":i,onClick:function(){r(d)},children:c}):Object(l.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":s,"data-bs-dismiss":o,"aria-label":i,onClick:function(){r(d),b(j)},children:c})},h=function(e){var t=e.nameGrade,a=e.borderGrade,n=e.colorGrade,s=e.idColorGrade,o=e.colors,i=e.errorName,d=e.errorColor,b=e.setNameGrade,j=e.resetCreation,h=e.createGrade,f=e.chooseColor,p=Object(c.useState)("red"),g=Object(r.a)(p,2),x=g[0],O=g[1],v=Object(c.useState)(!1),C=Object(r.a)(v,2),N=C[0],y=C[1];return Object(l.jsx)("div",{id:"addGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addGradeModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)("div",{className:"modal-header row",children:Object(l.jsx)("h5",{className:"modal-title p-1 col-sm-8 offset-sm-2",id:"addGradeModalLabel",children:"Ajouter un grade"})}),Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 col-md-6 order-1",children:[Object(l.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(l.jsx)("label",{id:"name-grade-label",className:"col-form-label",for:"name-grade",children:"Nom"})}),Object(l.jsx)("div",{id:"frame-name-grade-input",className:"p-0 m-1 col-10",children:Object(l.jsx)("input",{type:"text",id:"name-grade",className:" form-control",maxlength:"10",value:t,style:{border:a},onChange:function(e){b(e.target.value)}})})]}),Object(l.jsxs)("div",{className:"col-12 col-md-6 order-3 order-md-2",children:[Object(l.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(l.jsx)("label",{id:"color-grade-label",for:"color-grade",className:"col-form-label",children:"Couleur"})}),Object(l.jsxs)("div",{id:"frame-colors",className:"row p-0 m-0 rounded col-11",children:[Object(l.jsx)("div",{className:"container-final-color col-12",children:Object(l.jsx)("i",{id:s,className:"bi bi-square-fill final-color",style:{color:n,fontSize:"175%"}})}),o&&o.map((function(e){return Object(l.jsx)("div",{className:"container-choosing-color col-1",children:Object(l.jsx)("i",{type:"button",id:"little-square-".concat(e.id_color),className:"bi bi-square-fill ".concat(e.id_color),style:{color:e.name_color},onClick:function(){!function(e){document.head.appendChild(document.createElement("style")).innerHTML="#little-square-".concat(e,":before {border:1px solid var(--frame-choice-color); border-radius:4px;}");var t=document.head.appendChild(document.createElement("style")),a=s;t.innerHTML="#little-square-".concat(a,":before {border:none;}")}(e.id_color),f(e.id_color,e.name_color)}})})})),Object(l.jsxs)("div",{className:"container-choosing-color col-1",children:[Object(l.jsx)("i",{type:"button",className:"bi bi-plus-square square-selection",style:{color:x},onClick:function(){return y((function(e){return!e}))}}),N&&Object(l.jsx)(m.a,{color:x,onChange:function(e){return O(e.hex)}})]})]})]}),Object(l.jsx)("div",{id:"error-name",className:"errorMessage col-12 col-md-6 order-2 order-md-3",children:i}),Object(l.jsx)("div",{id:"error-color",className:"errorMessage col-12 col-md-6 order-4",children:d})]})})}),Object(l.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(l.jsx)(u,{id:"cancel-creation",className:"bouton-close",text:"Annuler",dataDismiss:"modal",ariaLabel:"Close",func1:j}),Object(l.jsx)(u,{className:"bouton-action",text:"Cr\xe9er",func1:h})]})]})})})},f=function(e){var t=e.name_camera,a=e.id_camera,c=e.notification,n=e.changeAction,s=e.changeNotification,o=e.allowed,i=e.currentIdGrade;return Object(l.jsxs)("div",{className:"layout-actions-cameras row p-1 m-2 bg-light rounded col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12",children:[Object(l.jsx)("div",{className:"name-camera-grade col-7 col-sm-7 col-md-7 col-lg-7 col-xl-7 col-xxl-7",children:t}),Object(l.jsx)("div",{className:"switch-camera-grade col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3",children:Object(l.jsx)("div",{className:"form-check form-switch",children:o?Object(l.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(i,"-").concat(a),defaultChecked:!0,role:"switch",onChange:function(){return n(a)}}):Object(l.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(i,"-").concat(a),role:"switch",onChange:function(){return n(a)}})})}),Object(l.jsx)("div",{className:"rounded col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2",children:Object(l.jsx)("i",{type:"button",id:"notification-".concat(i,"-").concat(a),className:"bi bi-bell-slash-fill",onClick:function(){return s(a,c)}})})]})},p=function(e){var t=e.id,a=e.bgColor,c=e.text;return Object(l.jsx)("div",{className:"modal-header row justify-content-center",children:Object(l.jsx)("h5",{id:t,className:"modal-title p-1 shadow-sm rounded col-10 col-sm-11 col-lg-9",style:{backgroundColor:a},children:c})})},g=function(e){var t=e.currentGrade,a=e.currentColor,c=e.informationsCameras,n=e.currentIdGrade,s=e.saveAction,o=e.newNotifications,i=e.newActions,r=e.activateButton,d=function(e,t){e in o?(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-fill":"bi bi-bell-slash-fill",delete o[e]):(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-slash-fill":"bi bi-bell-fill",o[e]=!t)},b=function(e){var t=document.getElementsByClassName("action-"+n+"-"+e)[0].checked;e in i?delete i[e]:i[e]=t};return Object(l.jsx)("div",{id:"modifyGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modifyGradeModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)(p,{id:"gradeModalLabel",bgColor:a,text:t}),Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsxs)("div",{className:"row justify-content-around",children:[Object(l.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:c&&c.filter((function(e){return c.indexOf(e)<c.length/2})).map((function(e){return Object(l.jsx)(f,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:b,changeNotification:d,allowed:e.allowed,currentIdGrade:n})}))}),Object(l.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:c&&c.filter((function(e){return c.indexOf(e)>=c.length/2})).map((function(e){return Object(l.jsx)(f,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:b,changeNotification:d,allowed:e.allowed,currentIdGrade:n})}))})]})}),Object(l.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(l.jsx)(u,{className:"bouton-close",text:"Annuler",func1:function(){r("close-modify"),Object.keys(i).length>0||Object.keys(o).length>0?r("open-confirmation"):r("open-desc-grade-1")}}),Object(l.jsx)(u,{id:"open-desc-grade-1",className:"hidden-btn bouton-close",text:"Revenir desc grade",targetToggle:"#gradeModal",dataToggle:"modal"}),Object(l.jsx)(u,{id:"close-modify",className:"hidden-btn bouton-close",text:"Fermer",dataDismiss:"modal",ariaLabel:"Close"}),Object(l.jsx)(u,{id:"open-confirmation",className:"hidden-btn bouton-close",text:"Cancel",targetToggle:"#confirmationCancelModal",dataToggle:"modal"}),Object(l.jsx)(u,{className:"bouton-action",text:"Enregistrer",func1:s})]})]})})})},x=function(e){var t=e.activateButton,a=e.deleteModification;return Object(l.jsx)("div",{id:"confirmationCancelModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"confirmationCancelModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsxs)("div",{className:"layout-modal-cancel row justify-content-center container",children:[Object(l.jsx)("i",{id:"icon-cancel",className:"bi bi-x-circle"}),Object(l.jsx)("h4",{children:"Voulez-vous vraiment annuler ? "}),Object(l.jsx)("p",{children:"Toutes vos modifications seront perdues."})]})}),Object(l.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(l.jsx)(u,{className:"bouton-close",text:"Non",func1:t,param1:"close-cancel",func2:t,param2:"open-modify-grade"}),Object(l.jsx)(u,{id:"open-desc-grade-2",className:"hidden-btn bouton-close",text:"Revenir desc grade",targetToggle:"#gradeModal",dataToggle:"modal"}),Object(l.jsx)(u,{id:"open-modify-grade",className:"hidden-btn bouton-close",text:"Revenir modif grades",targetToggle:"#modifyGradeModal",dataToggle:"modal"}),Object(l.jsx)(u,{id:"close-cancel",className:"hidden-btn bouton-close",text:"Fermer tout",dataDismiss:"modal",ariaLabel:"Close"}),Object(l.jsx)(u,{className:"bouton-warning",text:"Oui",func1:a})]})]})})})},O=function(e){var t=e.name,a=e.allowed,c=e.notification;return Object(l.jsxs)("div",{className:"row align-items-center p-1 m-2 bg-light rounded col-10 col-lg-7",children:[Object(l.jsx)("div",{className:"name-camera-grade col-9",children:t}),Object(l.jsx)("div",{className:"bg-notification rounded col-3 col-lg-2",style:{backgroundColor:a?"var(--camera-allow)":"var(--camera-refuse)"},children:Object(l.jsx)("i",{className:"bi bi-bell icon-notification",style:{color:c?"white":a?"var(--camera-allow)":"var(--camera-refuse)"}})})]})},v=function(e){var t=e.informationsCameras,a=e.colorModalDetails,c=e.titleModalDetails,n=e.activateButton,s=e.resetModal;return Object(l.jsx)("div",{id:"gradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)(p,{id:"gradeModalLabel",bgColor:a,text:c}),Object(l.jsxs)("div",{className:"modal-body",children:[Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsxs)("div",{className:"layout-legend col-10 col-lg-9",children:[Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-allow)",fontSize:"0.95rem"}})," : acc\xe8s autoris\xe9s"]}),Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-refuse)",fontSize:"0.95rem"}})," : acc\xe8s refus\xe9s"]}),Object(l.jsxs)("div",{className:"col-12",style:{margin:"0.3rem 0rem 0rem 0rem"},children:[Object(l.jsx)("i",{className:"bi bi-bell icon-notification",style:{fontSize:"0.7rem",backgroundColor:"#7a7a7a",color:"white",padding:"0.0375rem 0.15rem 0.0375rem 0.15rem",borderRadius:"4px"}})," : activation d'une alerte de pr\xe9sence"]})]})}),Object(l.jsx)("div",{className:"row justify-content-center",children:t&&t.map((function(e){return Object(l.jsx)(O,{allowed:e.allowed,name:e.name_camera,notification:e.notification},"prop-".concat(e.id_permission))}))})]}),Object(l.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(l.jsx)(u,{id:"close-informations",className:"bouton-close",text:"Fermer",dataDismiss:"modal",ariaLabel:"Close"}),Object(l.jsx)(u,{className:"bouton-action",text:"Modifier",targetToggle:"#modifyGradeModal",dataToggle:"modal",func1:n,param1:"close-informations",func2:s})]})]})})})};var C=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(null),o=Object(r.a)(s,2),i=o[0],m=o[1],u=Object(c.useState)([]),f=Object(r.a)(u,2),p=f[0],O=f[1],C=Object(c.useState)(""),N=Object(r.a)(C,2),y=N[0],w=N[1],S=Object(c.useState)(""),k=Object(r.a)(S,2),M=k[0],_=k[1],z=Object(c.useState)(""),T=Object(r.a)(z,2),E=T[0],G=T[1],L=Object(c.useState)("var(--empty-color)"),F=Object(r.a)(L,2),I=F[0],A=F[1],B=Object(c.useState)("empty"),V=Object(r.a)(B,2),H=V[0],P=V[1],q=Object(c.useState)(""),D=Object(r.a)(q,2),U=D[0],J=D[1],R=Object(c.useState)(""),W=Object(r.a)(R,2),K=W[0],Q=W[1],X=Object(c.useState)(""),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],ee=Object(c.useState)("null"),te=Object(r.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)("Chargement"),se=Object(r.a)(ne,2),oe=se[0],le=se[1],ie=Object(c.useState)("var(--text-loading)"),re=Object(r.a)(ie,2),de=re[0],be=re[1],je={autoClose:8e3,position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"},me="Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous.",ue={},he={};Object(c.useEffect)((function(){Array.from(document.querySelectorAll('button[data-bs-toggle="popover"]')).forEach((function(e){return new d.a(e)})),Array.from(document.querySelectorAll(".toast")).forEach((function(e){return new d.b(e)})),Array.from(document.querySelectorAll('button[data-bs-toggle="tooltip"]')).forEach((function(e){return new d.c(e)}))}),[]),Object(c.useEffect)((function(){fe(),pe()}),[]);var fe=function(){var e={method:"GET",headers:{"Content-Type":"application/json"}};fetch("/api/grades",e).then((function(e){return e.json()})).then((function(t){fetch("/api/grades/members",e).then((function(e){return e.json()})).then((function(e){t.map((function(t){return t.members=e.filter((function(e){return e.id_grade===t.id_grade}))[0].members})),n(t)}))}))},pe=function(){fetch("/api/grades/colors",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e)}))},ge=function(e,t){A(t),P(e)},xe=function(e,t){(e&&(ce("1px solid #ced4da"),J("")),t)&&(Q(""),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:none}")},Oe=function(){xe(!0,!0),ge("empty","var(--empty-color)"),$("")},ve=function(e,t,a){be(e),le(t),w(e),_(t),G(a);fetch("/api/grades/".concat(a,"/cameras"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){m(e)}))},Ce=function(e){document.getElementById(e).click()};return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"row justify-content-center",children:[Object(l.jsxs)("div",{id:"desription-page",className:"row col-11 col-sm-10 col-md-9 col-lg-7",children:[Object(l.jsx)("div",{id:"title-description",className:"col-12",children:"Grades"}),Object(l.jsxs)("div",{id:"description",className:"col-12",children:["Cette page vous permet de cr\xe9er des grades, ",Object(l.jsx)("br",{})," ainsi que de voir les d\xe9tails de ces ",Object(l.jsx)("br",{})," derniers !"]})]}),a&&a.map((function(e){return Object(l.jsx)("div",{className:"col-12",onClick:function(){return ve(e.color,e.name_grade,e.id_grade)},children:Object(l.jsx)(j,{name:e.name_grade,color:e.color,members:e.members,allowed_camera:e.allowedcamera,refused_camera:e.refusedcamera},"prop-".concat(e.id_grade))})})),Object(l.jsx)("div",{id:"layout-add",className:"row p-1 text-center justify-content-center col-12",children:Object(l.jsx)("span",{title:"Cr\xe9er un grade","data-toggle":"tooltip","data-placement":"top",children:Object(l.jsx)("i",{type:"button",className:"p-0 bi bi-plus-circle-fill add-user col-1","data-bs-toggle":"modal","data-bs-target":"#addGradeModal"})})})]}),Object(l.jsx)(v,{informationsCameras:i,colorModalDetails:de,titleModalDetails:oe,activateButton:Ce,resetModal:function(){for(var e in i)i[e].id_camera in ue?document.getElementsByClassName("action-"+E+"-"+i[e].id_camera)[0].checked=ue[e]:document.getElementsByClassName("action-"+E+"-"+i[e].id_camera)[0].checked=i[e].allowed,i[e].id_camera in he?document.getElementById("notification-"+E+"-"+i[e].id_camera).className=he[e]?"bi bi-bell-fill":"bi bi-bell-slash-fill":document.getElementById("notification-"+E+"-"+i[e].id_camera).className=i[e].notification?"bi bi-bell-fill":"bi bi-bell-slash-fill"}}),Object(l.jsx)(h,{nameGrade:Z,borderGrade:ae,colorGrade:I,idColorGrade:H,colors:p,errorName:U,errorColor:K,setNameGrade:$,resetCreation:Oe,createGrade:function(){var e=Z,t=H,c=!1,n=!1;(""===e?(ce("1px solid var(--error)"),J("Veuillez choisir un nom")):-1!==a.map((function(e){return e.name_grade})).indexOf(e)?(ce("1px solid var(--error)"),J("Ce nom existe d\xe9j\xe0")):(xe(!0,!1),c=!0),"empty"===t)?(Q("Veuillez choisir une couleur"),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:1px solid red}"):(xe(!1,!0),n=!0);n&&c&&(xe(!0,!0),fetch("/api/grades",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,idcolor:t})}).then((function(e){return e.json()})).then((function(t){Oe(),document.getElementById("cancel-creation").click(),"ok"===t.message?(fe(),pe(),b.b.success("Vous venez de cr\xe9er le grade "+e+" !",je)):b.b.error(me,je)})))},chooseColor:ge}),Object(l.jsx)(g,{currentColor:y,currentIdGrade:E,currentGrade:M,informationsCameras:i,saveAction:function(){var e=M,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({actions:ue,notifications:he})};fetch("/api/grades/".concat(E,"/acces"),t).then((function(e){return e.json()})).then((function(t){Ce("close-modify"),ue={},he={},"ok"===t.message?(fe(),ve(y,M,E),b.b.success("Vous venez de modifier les actions des cam\xe9ras du grade "+e+" !",je)):b.b.error(me,je)}))},newNotifications:he,newActions:ue,activateButton:Ce}),Object(l.jsx)(x,{activateButton:Ce,deleteModification:function(){Ce("close-cancel"),Ce("open-desc-grade-2"),ue={},he={}}}),Object(l.jsx)(b.a,{style:{fontSize:"0.6rem"}})]})};var N=function(){var e=Object(c.useState)("http://0.0.0.0:6060/video"),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{class:"row align-items-center",children:Object(l.jsxs)("div",{class:"m-auto px-2",children:[Object(l.jsx)("h1",{children:"test"}),Object(l.jsxs)("section",{class:"streaming",children:[Object(l.jsx)("h3",{children:"Camera"}),Object(l.jsx)("div",{id:"changement",children:Object(l.jsx)("img",{id:"test",alt:"video surveillance",src:a,width:"640",height:"480"})})]}),Object(l.jsx)("button",{class:"btn btn-primary m-5",type:"button",onClick:function(){console.log("capture"),fetch("http://0.0.0.0:6060/photo")},children:"prend photo"}),Object(l.jsx)("button",{class:"btn btn-primary m-5",onClick:function(){console.log("up"),fetch("http://0.0.0.0:6060/up",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("http://0.0.0.0:6060/video")}))},type:"button",name:"start",value:"Eteindre",children:"up"}),Object(l.jsx)("button",{class:"btn btn-primary m-5",onClick:function(){console.log("\xe9teindre"),fetch("http://0.0.0.0:6060/shutdown",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("camera-disconnected.png")}))},type:"button",name:"stop",value:"Eteindre",children:"\xc9teindre"})]})})})},y=(a(318),function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){fetch("/api/etatCam",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e)}))})),Object(l.jsxs)("div",{children:[Object(l.jsx)(i,{}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{class:"row align-items-center custom-line",children:[Object(l.jsx)("div",{class:"col-12 col-md-9 col-lg-8 offset-sm-3",children:Object(l.jsx)("h3",{id:"text",children:"Visionnez vos cam\xe9ras en live"})}),Object(l.jsx)("div",{class:"col offset-sm-3",children:Object(l.jsx)("select",{id:"select",children:a&&a.map((function(e){return Object(l.jsxs)("option",{className:"option",children:["CAM ",e.id_camera," : ",e.name_camera," Status : OFF"]})}))})})]}),Object(l.jsx)("div",{class:"row justify-content-center",children:Object(l.jsx)("fieldset",{class:"col offset-sm-3",id:"cadre_live",children:Object(l.jsx)("img",{alt:"visu_live",src:"http://192.168.0.200:6060/video",width:"200",height:"300",title:"Foscam FI8905W"})})}),Object(l.jsxs)("div",{class:"row justify-content-center",children:[Object(l.jsx)("div",{class:"col-5 col-md-4 col-lg-4 offset-0 offset-md-3 ",children:Object(l.jsx)("button",{type:"button",class:"form-control",id:"cadre_bouton_photo",children:Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",fill:"#CCFFEE",class:"bi bi-camera",viewBox:"0 0 16 16",children:[Object(l.jsx)("path",{d:"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"}),Object(l.jsx)("path",{d:"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})]})})}),Object(l.jsx)("div",{class:"col-5 col-md-4 col-lg-4 offset-0 offset-md1",children:Object(l.jsx)("button",{type:"button",class:"form-control",id:"cadre_bouton_video",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",fill:"#CCFFEE",class:"bi bi-camera-video",viewBox:"0 0 16 16",children:Object(l.jsx)("path",{"fill-rule":"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"})})})})]})]})]})}),w=(a(319),a(179)),S=(a(320),a(15)),k=a(9),M=a(13),_=a(63),z=a(20),T=a(19),E=a(64),G=a.n(E),L=G.a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),F=new(function(){function e(){Object(k.a)(this,e)}return Object(M.a)(e,[{key:"upload",value:function(e,t){var a=new FormData;return a.append("file",e),L.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return L.get("/files")}}]),e}()),I=function(e){Object(z.a)(a,e);var t=Object(T.a)(a);function a(e){var c;return Object(k.a)(this,a),(c=t.call(this,e)).selectFiles=c.selectFiles.bind(Object(_.a)(c)),c.upload=c.upload.bind(Object(_.a)(c)),c.uploadFiles=c.uploadFiles.bind(Object(_.a)(c)),c.previewImages=[],c.state={selectedFiles:void 0,progressInfos:[],message:[],fileInfos:[]},c}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this;F.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"selectFiles",value:function(e){this.setState({progressInfos:[],selectedFiles:e.target.files})}},{key:"upload",value:function(e,t){var a=this,c=Object(S.a)(this.state.progressInfos);F.upload(t,(function(t){c[e].percentage=Math.round(100*t.loaded/t.total),a.setState({_progressInfos:c})})).then((function(e){return a.setState((function(e){return{message:[].concat(Object(S.a)(e.message),["Uploaded the file successfully: "+t.name])}})),F.getFiles()})).then((function(e){a.setState({fileInfos:e.data})})).catch((function(){c[e].percentage=0,a.setState((function(e){var a=[].concat(Object(S.a)(e.message),["Could not upload the file: "+t.name]);return{progressInfos:c,message:a}}))}))}},{key:"uploadFiles",value:function(e){var t=this;e.preventDefault();for(var a=this.state.selectedFiles,c=[],n=0;n<a.length;n++)c.push({percentage:0,fileName:a[n].name});this.setState({progressInfos:c,message:[]},(function(){for(var e=0;e<a.length;e++)t.upload(e,a[e])}))}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,a=(e.previewImages,e.progressInfos),c=e.message;e.fileInfos;return Object(l.jsxs)("div",{children:[a&&a.map((function(e,t){return Object(l.jsxs)("div",{className:"mb-2",children:[Object(l.jsx)("span",{children:e.fileName}),Object(l.jsx)("div",{className:"progress",children:Object(l.jsxs)("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.percentage+"%"},children:[e.percentage,"%"]})})]},t)})),Object(l.jsxs)("div",{className:"row my-3",children:[Object(l.jsx)("div",{className:"col-8",children:Object(l.jsx)("label",{className:"btn btn-default p-0",children:Object(l.jsx)("input",{type:"file",multiple:!0,onChange:this.selectFiles})})}),Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)("button",{className:"btn btn-success btn-sm",disabled:!t,onClick:this.uploadFiles,type:"submit",children:"Enregistrer"})})]}),c.length>0&&Object(l.jsx)("div",{className:"alert alert-secondary",role:"alert",children:Object(l.jsx)("ul",{children:c.map((function(e,t){return Object(l.jsx)("li",{children:e},t)}))})})]})}}]),a}(c.Component),A=function(e){var t=e.type,a=e.name,c=e.min,n=e.max,s=e.placeholder,o=e.setFunc,i=e.pattern,r=e.title,d=e.step,b=e.idName;return Object(l.jsx)("input",{className:"input_modif",id:b,step:d,pattern:i,required:!0,title:r,type:t,name:a,minLength:c,maxLength:n,placeholder:s,onChange:function(e){o(e.target.value)}})};A.defaultProps={type:"text",min:4,max:10,placeholder:"texte"};var B=A;var V,H=function(){G.a.defaults.withCredentials=!0;var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(r.a)(s,2),d=o[0],b=o[1],j=Object(c.useState)(""),m=Object(r.a)(j,2),u=m[0],h=m[1],f=Object(c.useState)([]),p=Object(r.a)(f,2),g=p[0],x=p[1];Object(c.useEffect)((function(){O()}),[]);var O=function(){G.a.get("/api/gradesInfos").then((function(e){x(e.data)})).then((function(){}))};return Object(l.jsxs)("div",{className:"secretary-page",children:[Object(l.jsx)(i,{}),Object(l.jsx)("div",{id:"layout-user",children:Object(l.jsxs)(w.a,{trigger:Object(l.jsx)("button",{className:"add-user",children:"Ajouter utilisateur (+)"}),position:"center",modal:!0,nested:!0,children:[Object(l.jsx)("h1",{children:"Nouvel utilisateur:"}),Object(l.jsxs)("form",{onSubmit:function(){console.log("client : ",u),G.a.put("/api/client",{FirstName:a,LastName:d,Grade:u}).then((function(e){e&&window.alert("Client d\xe9j\xe0 enregistr\xe9")}))},children:[Object(l.jsx)("label",{for:"f-name",children:"Pr\xe9nom:"}),Object(l.jsx)("br",{}),Object(l.jsx)(B,{name:"f-name",idName:"f-name",max:"50",min:"1",type:"texte",placeholder:"Pr\xe9nom",setFunc:n}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{for:"l-name",children:"Nom:"}),Object(l.jsx)("br",{}),Object(l.jsx)(B,{name:"l-name",idName:"l-name",max:"50",min:"1",type:"texte",placeholder:"Nom",setFunc:b}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{for:"grade",children:"Grade:"}),Object(l.jsx)("br",{}),Object(l.jsx)("select",{onChange:function(e){h(e.target.value)},name:"grade",children:g.map((function(e){return Object(l.jsxs)("option",{value:e.id_grade,children:[e.id_grade+". ",e.name_grade]})}))}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",children:"Envoyer"}),Object(l.jsx)(I,{})]})]})})]})},P=a(95),q=a(12),D=a(123),U=a.n(D),J=a(180),R=a(181),W=a(189),K=(a(339),a(72)),Q=a(182),X=a(183).a.div(V||(V=Object(R.a)(["\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  margin: 0px;\n  border-radius: 50%;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n"]))),Y={autoClose:4e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"};var Z=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=(t[1],Object(c.useState)("")),s=Object(r.a)(n,2),o=(s[0],s[1]),i=Object(c.useState)(""),d=Object(r.a)(i,2),j=(d[0],d[1]),m=[],u=Object(c.useState)(""),h=Object(r.a)(u,2),f=h[0],p=h[1],g=Object(c.useState)([]),x=Object(r.a)(g,2),O=x[0],v=x[1],C=Object(c.useState)(""),N=Object(r.a)(C,2),y=N[0],w=N[1],S=Object(c.useState)(null),k=Object(r.a)(S,2),M=(k[0],k[1]),_=Object(c.useState)(null),z=Object(r.a)(_,2),T=z[0],E=z[1],G=Object(c.useState)(""),L=Object(r.a)(G,2),F=L[0],I=L[1],A=Object(c.useState)(""),B=Object(r.a)(A,2),V=B[0],H=B[1],P=Object(c.useState)(""),q=Object(r.a)(P,2),D=(q[0],q[1]),R=Object(c.useState)(0),Z=Object(r.a)(R,2),$=Z[0],ee=Z[1],te=Object(c.useState)(""),ae=Object(r.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)(null),oe=Object(r.a)(se,2),le=oe[0],ie=oe[1],re=function(e){fetch("/api/membres/".concat(e,"/grade"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){H(e[0].name_grade),I(e[0].color),D(e.id_grade),M(!0)}))},de=function(e){console.log(e);fetch("/api/membres/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0].first_name.replaceAll("\\s+",""),a=e[0].last_name.replaceAll("\\s+",""),c=t.replace(/\s+/g,"")+" "+a.replace(/\s+/g,"");c.replace(/\s+/g,""),o(t),j(a),p(c),M(!0)}))},be={},je=function(e){fetch("/api/membres/".concat(e,"/photos/count"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){E(e[0].count),M(!0)}))},me=function(e){fetch("/api/membres/".concat(e,"/photos"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t in v(e),e)m.push(e[t].pictures),w(e[0].pictures);M(!0)})),w(m[0])},ue=Object(l.jsx)(K.a,{id:"popover-basic",children:Object(l.jsx)(K.a.Body,{id:"popover-test",children:Object(l.jsx)("div",{class:"row",children:O.map((function(e){return Object(l.jsxs)("div",{class:" test col",children:[Object(l.jsx)("i",{class:"bi bi-x-circle-fill pr-2 mb-3",onClick:function(){return function(e){console.log(e),fetch("/api/membres/".concat(ce,"/eliminate/photo"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e})}).then((function(e){console.log(e),200===e.status?(b.b.success("Vous venez d'effacer la photo",Y),me(ce),je(ce)):b.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))}(e.pictures)}}),Object(l.jsx)("img",{class:"img-thumbnail h-50",src:e.pictures,alt:""})]})}))})})}),he=function(){var e=Object(J.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(t),de(t),re(t),me(t),je(t),fetch("/api/grades",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){ie(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b.a,{style:{fontSize:"0.6rem"}}),Object(l.jsx)("button",{type:"button",onClick:function(){he(1)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 1"}),Object(l.jsx)("button",{type:"button",onClick:function(){return he(2)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 2"}),Object(l.jsx)("button",{type:"button",onClick:function(){return he(3)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 3"}),Object(l.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(l.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(l.jsxs)("div",{class:"modal-content",style:{backgroundColor:F},children:[Object(l.jsxs)("div",{class:"modal-body",children:[Object(l.jsx)("div",{class:"hovereffect",children:Object(l.jsxs)("div",{class:"row",children:[Object(l.jsx)("div",{class:"col",children:Object(l.jsxs)(X,{children:[Object(l.jsx)("img",{src:y,alt:""}),Object(l.jsx)(W.a,{trigger:"click",placement:"right",overlay:ue,children:Object(l.jsx)("span",{className:"badge nineplus",children:T})})]})}),Object(l.jsx)("div",{class:"col"})]})}),Object(l.jsx)("div",{class:"tool",children:0===$?Object(l.jsxs)("p",{class:"affiche",children:[" ",V.toUpperCase()," ",Object(l.jsx)("i",{onClick:function(){ee(1),le.map((function(e){return be[e.name_grade]=e.color.replace(/\s+/g,"")})),V in be&&delete be[V]},className:"bi bi-pencil-square",style:{color:"white",background:F,backgroundSize:"10px",fontSize:"80%",textAlign:"right",paddingRight:"10px ",paddingLeft:"4px"}})]}):le.map((function(e){return e.name_grade!==V?Object(l.jsx)("i",{onClick:function(){var t;t=e.id_grade,fetch("/api/membres/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userNow:ce})}).then((function(e){console.log(e),200===e.status?b.b.success("Vous venez de modifier le grade de l'utilisateur",Y):b.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")})),he(ce),ee(0)},className:"bi bi-person-square",style:{color:e.color,border:"10px black",fontSize:"100%",background:F,textAlign:"right",paddingRight:"20px"}},e.name_grade):""}))})]}),Object(l.jsx)("div",{class:"col-12",children:Object(l.jsx)(Q.a,{value:f,type:"text",onSave:function(e){var t=e.split(/(\s+)/).filter((function(e){return e.trim().length>0})),a=t[0],c=t[1];fetch("/api/membres/".concat(ce,"/update"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,surname:c})}).then((function(e){console.log(e),200===e.status?b.b.success("Vous venez de modifier le nom et pr\xe9nom de cet utilisateur",Y):b.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))},editing:a,buttonsAlign:"before"})})]})})})]})};var $=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(r.a)(s,2),i=o[0],d=o[1],b=Object(c.useState)(0),j=Object(r.a)(b,2);return j[0],j[1],Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(l.jsxs)("div",{class:"mb-3",children:[Object(l.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Nom d'utilisateuuuuuuuur"}),Object(l.jsx)("input",{type:"text",placeholder:"toto",value:a,onChange:function(e){return n(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(l.jsxs)("div",{class:"mb-3",children:[Object(l.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(l.jsx)("input",{type:"password",placeholder:"",value:i,onChange:function(e){return d(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(l.jsx)("button",{onClick:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:i})};fetch("/api/login",e).then((function(e){return e.json()})).then((function(e){console.log(e.value),e.value&&(localStorage.setItem("access_token",e.value),null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")&&window.location.replace("/"))}))},class:"btn btn-primary",children:"Connecter"}),Object(l.jsx)("br",{})]})})})};function ee(){return null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")}var te=a(5),ae=a(24),ce=["component"],ne=function(e){var t=e.component,a=Object(ae.a)(e,ce);return Object(l.jsx)(q.b,Object(te.a)(Object(te.a)({},a),{},{render:function(e){return ee()?Object(l.jsx)(t,Object(te.a)({},e)):Object(l.jsx)(q.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var se=function(){return ee(),Object(l.jsx)(P.a,{children:Object(l.jsx)("div",{className:"App",children:Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(q.d,{children:[Object(l.jsx)(ne,{exact:!0,isloggedin:ee(),component:C,path:"/grades"}),Object(l.jsx)(ne,{exact:!0,isloggedin:ee(),component:N,path:"/camera"}),Object(l.jsx)(ne,{exact:!0,isloggedin:ee(),component:y,path:"/accueil"}),Object(l.jsx)(ne,{exact:!0,isloggedin:ee(),component:H,path:"/secretary"}),Object(l.jsx)(ne,{exact:!0,isloggedin:ee(),path:"/modification",component:Z}),Object(l.jsx)(q.b,{path:"/login",exact:!0,component:$})]})})})})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,353)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),s(e),o(e)}))};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(se,{})}),document.getElementById("root")),oe()},35:function(e,t,a){}},[[346,1,2]]]);
//# sourceMappingURL=main.a5d1eccf.chunk.js.map