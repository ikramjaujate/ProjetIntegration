(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e,t,a){},195:function(e,t,a){},209:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},342:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(26),o=a.n(s),l=(a(195),a(130),a(6)),i=(a(54),a(31),a(43),a(72),a(49),a(73),a(209),a(1));var r=function(){return Object(i.jsx)("nav",{className:"navbar-main",children:Object(i.jsxs)("ul",{className:"navbar-nav",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(i.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"house",className:"svg-inline--fa fa-house",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(i.jsx)("path",{fill:"currentColor",d:"M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"})}),Object(i.jsx)("span",{className:"link-text",children:"Accueil"})]})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(i.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"video",className:"svg-inline--fa fa-video",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(i.jsx)("path",{fill:"currentColor",d:"M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"})}),Object(i.jsx)("span",{className:"link-text",children:"Cam\xe9ras"})]})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(i.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chart-bar",className:"svg-inline--fa fa-chart-bar",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(i.jsx)("path",{fill:"currentColor",d:"M140.8 160h230.5C377.6 160 384 153.6 384 147.3v-38.5C384 102.4 377.6 96 371.3 96h-230.5C134.4 96 128 102.4 128 108.8v38.5C128 153.6 134.4 160 140.8 160zM140.8 256h166.5C313.6 256 320 249.6 320 243.3v-38.5C320 198.4 313.6 192 307.3 192h-166.5C134.4 192 128 198.4 128 204.8v38.5C128 249.6 134.4 256 140.8 256zM140.8 352h294.5C441.6 352 448 345.6 448 339.3v-38.5C448 294.4 441.6 288 435.3 288h-294.5C134.4 288 128 294.4 128 300.8v38.5C128 345.6 134.4 352 140.8 352zM480 416H64V63.1C64 46.33 49.67 32 32 32S0 46.33 0 63.1V448c0 17.6 14.4 32 32 32h448C497.7 480 512 465.7 512 448S497.7 416 480 416z"})}),Object(i.jsx)("span",{className:"link-text",children:"Grades"})]})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(i.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"users",className:"svg-inline--fa fa-users",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:Object(i.jsx)("path",{fill:"currentColor",d:"M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"})}),Object(i.jsx)("span",{className:"link-text",children:"Membres"})]})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(i.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"image",className:"svg-inline--fa fa-image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(i.jsx)("path",{fill:"currentColor",d:"M152 120c-26.51 0-48 21.49-48 48s21.49 48 48 48s48-21.49 48-48S178.5 120 152 120zM447.1 32h-384C28.65 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM463.1 409.3l-136.8-185.9C323.8 218.8 318.1 216 312 216c-6.113 0-11.82 2.768-15.21 7.379l-106.6 144.1l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L47.99 96c0-8.822 7.178-16 16-16h384c8.822 0 16 7.178 16 16V409.3z"})}),Object(i.jsx)("span",{className:"link-text",children:"Galerie"})]})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsxs)("a",{href:"#",className:"nav-link-main",children:[Object(i.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"gears",className:"svg-inline--fa fa-gears",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:Object(i.jsx)("path",{fill:"currentColor",d:"M314.6 216.6L285.6 199.9C287.1 192.1 288 184.2 288 176.1C288 167.8 287.1 159.8 285.6 151.1L314.6 135.2c4.293-2.48 6.445-7.695 4.883-12.4C312.2 100.1 300.6 81.11 285.7 64.28C283.7 62.03 280.9 60.87 278 60.87c-1.861 0-3.736 .4785-5.42 1.449L243 79.41C231 69.11 217.3 61.07 202.1 55.75V21.65c0-4.943-3.418-9.348-8.258-10.36C182.9 9.002 171.6 7.67 160 7.67c-11.61 0-22.88 1.342-33.81 3.632c-4.84 1.016-8.248 5.41-8.248 10.35v34.09C102.7 61.07 88.96 69.11 76.98 79.41L47.39 62.32C45.71 61.35 43.83 60.87 41.97 60.87c-2.893 0-5.648 1.169-7.652 3.427C19.39 81.12 7.758 100.1 .5078 122.8C-1.053 127.5 1.098 132.7 5.391 135.2l29.04 16.77C32.93 159.8 32 167.8 32 176.1c0 8.137 .9434 16.04 2.395 23.75L5.391 216.6C1.098 219.1-1.053 224.3 .5078 228.1c7.25 21.83 18.79 41.69 33.71 58.52C36.22 289.8 39.08 290.9 41.97 290.9c1.861 0 3.738-.4785 5.42-1.449L76.7 272.6c12.04 10.41 25.91 18.53 41.24 23.89v33.69c0 4.941 3.419 9.279 8.258 10.29C137.1 342.7 148.4 344.1 160 344.1c11.61 0 22.88-1.411 33.81-3.7c4.84-1.016 8.247-5.343 8.247-10.28V296.5c15.34-5.365 29.2-13.49 41.24-23.9L272.6 289.5c1.68 .9707 3.559 1.449 5.42 1.449c2.891 0 5.646-1.238 7.652-3.498c14.92-16.83 26.56-36.6 33.81-58.44C321.1 224.3 318.9 219.1 314.6 216.6zM160 224.1c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48S186.5 224.1 160 224.1zM628.5 318.2c-1.016-4.84-5.412-8.248-10.36-8.248h-34.09c-5.324-15.22-13.36-28.98-23.66-40.96l17.09-29.6c.9707-1.68 1.449-3.559 1.449-5.42c0-2.893-1.167-5.648-3.425-7.652c-16.83-14.92-36.67-26.56-58.51-33.81c-4.703-1.561-9.918 .5898-12.4 4.883l-16.77 29.04C479.1 224.9 471.1 224 463.7 224c-8.137 0-16.04 .9434-23.75 2.395L423.2 197.4c-2.48-4.293-7.699-6.443-12.4-4.883c-21.83 7.25-41.69 18.79-58.52 33.71c-2.26 2.004-3.419 4.857-3.419 7.748c0 1.861 .4795 3.738 1.45 5.42l16.92 29.31c-10.41 12.04-18.53 25.91-23.89 41.24H309.6c-4.941 0-9.496 3.393-10.51 8.232C296.8 329.1 295.7 340.4 295.7 352c0 11.61 1.184 22.9 3.473 33.82C300.1 390.7 304.7 394.1 309.6 394.1h33.69c5.365 15.34 13.49 29.2 23.9 41.24l-16.92 29.31c-.9707 1.68-1.45 3.559-1.45 5.42c0 2.891 1.044 5.742 3.304 7.748c16.83 14.92 36.8 26.46 58.63 33.71c4.703 1.562 9.922-.5898 12.4-4.883l16.74-29C447.6 479.1 455.5 480 463.7 480c8.268 0 16.3-.9336 24.13-2.432l16.77 29.04c2.48 4.293 7.695 6.445 12.4 4.883c21.84-7.25 41.69-18.9 58.52-33.82c2.258-2.006 3.414-4.751 3.414-7.642c0-1.861-.4785-3.736-1.449-5.42l-17.09-29.6c10.29-11.98 18.34-25.74 23.66-40.96h34.09c4.943 0 9.35-3.418 10.37-8.258C630.8 374.9 632.1 363.6 632.1 352C632.1 340.4 630.8 329.1 628.5 318.2zM463.7 400c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48S490.2 400 463.7 400z"})}),Object(i.jsx)("span",{className:"link-text",children:"Param\xe8tres"})]})})]})})},d=a(99),b=(a(142),a(16)),j=a(9),m=a(13),u=a(70),h=a(21),f=a(20),p=a(36),O=a.n(p),x=O.a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),g=new(function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,[{key:"upload",value:function(e,t){var a=new FormData;return a.append("file",e),x.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return x.get("/files")}}]),e}()),v=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var c;return Object(j.a)(this,a),(c=t.call(this,e)).selectFiles=c.selectFiles.bind(Object(u.a)(c)),c.upload=c.upload.bind(Object(u.a)(c)),c.uploadFiles=c.uploadFiles.bind(Object(u.a)(c)),c.previewImages=[],c.state={selectedFiles:void 0,progressInfos:[],message:[],fileInfos:[]},c}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"selectFiles",value:function(e){this.setState({progressInfos:[],selectedFiles:e.target.files})}},{key:"upload",value:function(e,t){var a=this,c=Object(b.a)(this.state.progressInfos);g.upload(t,(function(t){c[e].percentage=Math.round(100*t.loaded/t.total),a.setState({_progressInfos:c})})).then((function(e){return a.setState((function(e){return{message:[].concat(Object(b.a)(e.message),["Uploaded the file successfully: "+t.name])}})),g.getFiles()})).then((function(e){a.setState({fileInfos:e.data})})).catch((function(){c[e].percentage=0,a.setState((function(e){var a=[].concat(Object(b.a)(e.message),["Could not upload the file: "+t.name]);return{progressInfos:c,message:a}}))}))}},{key:"uploadFiles",value:function(e){var t=this;e.preventDefault();for(var a=this.state.selectedFiles,c=[],n=0;n<a.length;n++)c.push({percentage:0,fileName:a[n].name});this.setState({progressInfos:c,message:[]},(function(){for(var e=0;e<a.length;e++)t.upload(e,a[e])}))}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,a=(e.previewImages,e.progressInfos),c=e.message;e.fileInfos;return Object(i.jsxs)("div",{children:[a&&a.map((function(e,t){return Object(i.jsxs)("div",{className:"mb-2",children:[Object(i.jsx)("span",{children:e.fileName}),Object(i.jsx)("div",{className:"progress",children:Object(i.jsxs)("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.percentage+"%"},children:[e.percentage,"%"]})})]},t)})),Object(i.jsxs)("div",{className:"row my-3",children:[Object(i.jsx)("div",{className:"col-8",children:Object(i.jsx)("label",{className:"btn btn-default p-0",children:Object(i.jsx)("input",{type:"file",multiple:!0,onChange:this.selectFiles})})}),Object(i.jsx)("div",{className:"col-4",children:Object(i.jsx)("button",{className:"btn btn-success btn-sm",disabled:!t,onClick:this.uploadFiles,type:"submit",children:"Enregistrer"})})]}),c.length>0&&Object(i.jsx)("div",{className:"alert alert-secondary",role:"alert",children:Object(i.jsx)("ul",{children:c.map((function(e,t){return Object(i.jsx)("li",{children:e},t)}))})})]})}}]),a}(c.Component),N=function(e){var t=e.type,a=e.name,c=e.min,n=e.max,s=e.placeholder,o=e.setFunc,l=e.pattern,r=e.title,d=e.step,b=e.idName;return Object(i.jsx)("input",{className:"input_modif",id:b,step:d,pattern:l,required:!0,title:r,type:t,name:a,minLength:c,maxLength:n,placeholder:s,onChange:function(e){o(e.target.value)}})};N.defaultProps={type:"text",min:4,max:10,placeholder:"texte"};var y=N;function C(){O.a.defaults.withCredentials=!0;var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),b=o[0],j=o[1],m=Object(c.useState)(1),u=Object(l.a)(m,2),h=u[0],f=u[1],p=Object(c.useState)([]),x=Object(l.a)(p,2),g=x[0],N=x[1],C=Object(c.useState)([]),w=Object(l.a)(C,2),k=w[0],S=w[1],_=Object(c.useState)(""),T=Object(l.a)(_,2),M=(T[0],T[1],Object(c.useState)("")),z=Object(l.a)(M,2),E=z[0],G=z[1],L=Object(c.useState)("Tous"),F=Object(l.a)(L,2),I=F[0],B=F[1];Object(c.useEffect)((function(){V(),A()}),[]);var A=function(){fetch("/api/members",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){S(e)}))},V=function(){O.a.get("http://localhost:3001/api/gradesInfos").then((function(e){N(e.data)})).then((function(){}))};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r,{}),Object(i.jsxs)("div",{className:"rounded row mt-2 justify-content-center",children:[Object(i.jsx)("div",{className:"col-4",children:Object(i.jsx)("input",{style:{border:"1px solid grey"},type:"text",onChange:function(e){G(e.target.value)},placeholder:"chercher"})}),Object(i.jsxs)("select",{onChange:function(e){return B(e.target.value)},style:{width:"20%"},className:"form-select form-select-sm","aria-label":"Default select example",children:[Object(i.jsx)("option",{children:"Tous"}),g.map((function(e){return Object(i.jsx)("option",{children:e.name_grade})}))]})]}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"row offset-1 justify-content-center",children:[Object(i.jsxs)(d.a,{trigger:Object(i.jsx)("button",{style:{backgroundColor:"#c6e5c3",border:"1px solid lightgrey"},className:"rounded col-sm-3 col-lg-3 mt-4 mb-5",children:"Ajouter utilisateur (+)"}),position:"center",modal:!0,nested:!0,children:[Object(i.jsx)("h1",{children:"Nouvel utilisateur:"}),Object(i.jsxs)("form",{onSubmit:function(){O.a.put("http://localhost:3001/api/client",{FirstName:a,LastName:b,Grade:h}).then((function(e){e&&window.alert("Client d\xe9j\xe0 enregistr\xe9")}))},children:[Object(i.jsx)("label",{for:"f-name",children:"Pr\xe9nom:"}),Object(i.jsx)("br",{}),Object(i.jsx)(y,{name:"f-name",idName:"f-name",max:"50",min:"1",type:"texte",placeholder:"Pr\xe9nom",setFunc:n}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{for:"l-name",children:"Nom:"}),Object(i.jsx)("br",{}),Object(i.jsx)(y,{name:"l-name",idName:"l-name",max:"50",min:"1",type:"texte",placeholder:"Nom",setFunc:j}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{for:"grade",children:"Grade:"}),Object(i.jsx)("br",{}),Object(i.jsx)("select",{required:!0,onChange:function(e){f(e.target.value)},name:"grade",children:g.map((function(e){return Object(i.jsxs)("option",{value:e.id_grade,children:[e.id_grade+". ",e.name_grade]})}))}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Envoyer"}),Object(i.jsx)(v,{})]})]}),k.filter((function(e){return e.first_name.includes(E)})).filter("Tous"!==I?function(e){return e.name_grade===I}:function(e){return e.name_grade.includes("")}).map((function(e){return Object(i.jsx)("div",{className:"rounded col-sm-5 col-lg-3 p-4 mx-1 mb-3 ","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:Object(i.jsxs)("div",{className:"row rounded",children:[Object(i.jsx)("div",{style:{backgroundColor:e.color,fontSize:"0.7rem"},className:"col-6",children:e.name_grade}),Object(i.jsx)("div",{style:{backgroundColor:e.color},className:"col-6",children:Object(i.jsx)("button",{className:"p-2 btn-close btn-close-grey float-end",id:e.id_member,onClick:function(t){window.confirm("Voulez vous vraiment supprimer "+e.last_name+"?")&&function(e){var t=e;O.a.delete("http://localhost:3001/api/members/".concat(t)).then((function(e){e&&window.location.reload()}))}(t.target.id)}})}),Object(i.jsxs)("div",{style:{backgroundColor:"#ebebeb"},className:"rounded col-12",children:[Object(i.jsx)("div",{class:"col-md-4 text-align",children:Object(i.jsx)("img",{src:"https://as2.ftcdn.net/v2/jpg/03/32/59/65/1000_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",class:"img-fluid rounded-start",alt:"profile-pic"})}),e.first_name," ",e.last_name]})]})})}))]})})]})}var w=a(68),k=a(15),S=(a(37),function(e){var t=e.name,a=e.color,c=e.members,n=e.allowed_camera,s=e.refused_camera;return Object(i.jsx)("div",{className:"row p-1 justify-content-center card-grade",children:Object(i.jsxs)("div",{type:"button",className:"p-1 bg-light shadow-sm rounded row col-10 col-md-9 col-lg-7 col-xl-6","data-bs-toggle":"modal","data-bs-target":"#gradeModal",children:[Object(i.jsx)("div",{className:"rounded bg-person col-12 col-sm-3",style:{backgroundColor:a},children:Object(i.jsx)("i",{className:"bi bi-people icon-person"})}),Object(i.jsx)("div",{className:"align-self-center name-grade col-8 col-sm-6",children:t}),Object(i.jsxs)("div",{className:"layout-nbr-camera p-0 col align-self-end row col-4 col-sm-3",children:[Object(i.jsxs)("div",{className:"p-0 informations col-6",children:[n," ",Object(i.jsx)("i",{className:"bi bi-camera-video-fill allowed-camera"})]}),Object(i.jsxs)("div",{className:"p-0 informations col-6",children:[s," ",Object(i.jsx)("i",{className:"bi bi-camera-video-fill refused-camera"})]}),Object(i.jsxs)("div",{className:"p-0 informations col-12",children:[c," ",c>1?"membres":"membre"]})]})]})})}),_=a(189),T=function(e){var t=e.id,a=e.className,c=e.text,n=e.targetToggle,s=e.dataToggle,o=e.dataDismiss,l=e.ariaLabel,r=e.func1,d=e.param1,b=e.func2,j=e.param2;return void 0===r?Object(i.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":s,"data-bs-dismiss":o,"aria-label":l,children:c}):void 0===b?Object(i.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":s,"data-bs-dismiss":o,"aria-label":l,onClick:function(){r(d)},children:c}):Object(i.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":s,"data-bs-dismiss":o,"aria-label":l,onClick:function(){r(d),b(j)},children:c})},M=function(e){var t=e.nameGrade,a=e.borderGrade,n=e.colorGrade,s=e.idColorGrade,o=e.colors,r=e.errorName,d=e.errorColor,b=e.setNameGrade,j=e.resetCreation,m=e.createGrade,u=e.chooseColor,h=Object(c.useState)("red"),f=Object(l.a)(h,2),p=f[0],O=f[1],x=Object(c.useState)(!1),g=Object(l.a)(x,2),v=g[0],N=g[1];return Object(i.jsx)("div",{id:"addGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addGradeModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsx)("div",{className:"modal-header row",children:Object(i.jsx)("h5",{className:"modal-title p-1 col-sm-8 offset-sm-2",id:"addGradeModalLabel",children:"Ajouter un grade"})}),Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 col-md-6 order-1",children:[Object(i.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(i.jsx)("label",{id:"name-grade-label",className:"col-form-label",for:"name-grade",children:"Nom"})}),Object(i.jsx)("div",{id:"frame-name-grade-input",className:"p-0 m-1 col-10",children:Object(i.jsx)("input",{type:"text",id:"name-grade",className:" form-control",maxlength:"10",value:t,style:{border:a},onChange:function(e){b(e.target.value)}})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 order-3 order-md-2",children:[Object(i.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(i.jsx)("label",{id:"color-grade-label",for:"color-grade",className:"col-form-label",children:"Couleur"})}),Object(i.jsxs)("div",{id:"frame-colors",className:"row p-0 m-0 rounded col-11",children:[Object(i.jsx)("div",{className:"container-final-color col-12",children:Object(i.jsx)("i",{id:s,className:"bi bi-square-fill final-color",style:{color:n,fontSize:"175%"}})}),o&&o.map((function(e){return Object(i.jsx)("div",{className:"container-choosing-color col-1",children:Object(i.jsx)("i",{type:"button",id:"little-square-".concat(e.id_color),className:"bi bi-square-fill ".concat(e.id_color),style:{color:e.name_color},onClick:function(){!function(e){document.head.appendChild(document.createElement("style")).innerHTML="#little-square-".concat(e,":before {border:1px solid var(--frame-choice-color); border-radius:4px;}");var t=document.head.appendChild(document.createElement("style")),a=s;t.innerHTML="#little-square-".concat(a,":before {border:none;}")}(e.id_color),u(e.id_color,e.name_color)}})})})),Object(i.jsxs)("div",{className:"container-choosing-color col-1",children:[Object(i.jsx)("i",{type:"button",className:"bi bi-plus-square square-selection",style:{color:p},onClick:function(){return N((function(e){return!e}))}}),v&&Object(i.jsx)(_.a,{color:p,onChange:function(e){return O(e.hex)}})]})]})]}),Object(i.jsx)("div",{id:"error-name",className:"errorMessage col-12 col-md-6 order-2 order-md-3",children:r}),Object(i.jsx)("div",{id:"error-color",className:"errorMessage col-12 col-md-6 order-4",children:d})]})})}),Object(i.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(i.jsx)(T,{id:"cancel-creation",className:"bouton-close",text:"Annuler",dataDismiss:"modal",ariaLabel:"Close",func1:j}),Object(i.jsx)(T,{className:"bouton-action",text:"Cr\xe9er",func1:m})]})]})})})},z=function(e){var t=e.name_camera,a=e.id_camera,c=e.notification,n=e.changeAction,s=e.changeNotification,o=e.allowed,l=e.currentIdGrade;return Object(i.jsxs)("div",{className:"layout-actions-cameras row p-1 m-2 bg-light rounded col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12",children:[Object(i.jsx)("div",{className:"name-camera-grade col-7 col-sm-7 col-md-7 col-lg-7 col-xl-7 col-xxl-7",children:t}),Object(i.jsx)("div",{className:"switch-camera-grade col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3",children:Object(i.jsx)("div",{className:"form-check form-switch",children:o?Object(i.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(l,"-").concat(a),defaultChecked:!0,role:"switch",onChange:function(){return n(a)}}):Object(i.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(l,"-").concat(a),role:"switch",onChange:function(){return n(a)}})})}),Object(i.jsx)("div",{className:"rounded col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2",children:Object(i.jsx)("i",{type:"button",id:"notification-".concat(l,"-").concat(a),className:"bi bi-bell-slash-fill",onClick:function(){return s(a,c)}})})]})},E=function(e){var t=e.id,a=e.bgColor,c=e.text;return Object(i.jsx)("div",{className:"modal-header row justify-content-center",children:Object(i.jsx)("h5",{id:t,className:"modal-title p-1 shadow-sm rounded col-10 col-sm-11 col-lg-9",style:{backgroundColor:a},children:c})})},G=function(e){var t=e.currentGrade,a=e.currentColor,c=e.informationsCameras,n=e.currentIdGrade,s=e.saveAction,o=e.newNotifications,l=e.newActions,r=e.activateButton,d=function(e,t){e in o?(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-fill":"bi bi-bell-slash-fill",delete o[e]):(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-slash-fill":"bi bi-bell-fill",o[e]=!t)},b=function(e){var t=document.getElementsByClassName("action-"+n+"-"+e)[0].checked;e in l?delete l[e]:l[e]=t};return Object(i.jsx)("div",{id:"modifyGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modifyGradeModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsx)(E,{id:"gradeModalLabel",bgColor:a,text:t}),Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsxs)("div",{className:"row justify-content-around",children:[Object(i.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:c&&c.filter((function(e){return c.indexOf(e)<c.length/2})).map((function(e){return Object(i.jsx)(z,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:b,changeNotification:d,allowed:e.allowed,currentIdGrade:n})}))}),Object(i.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:c&&c.filter((function(e){return c.indexOf(e)>=c.length/2})).map((function(e){return Object(i.jsx)(z,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:b,changeNotification:d,allowed:e.allowed,currentIdGrade:n})}))})]})}),Object(i.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(i.jsx)(T,{className:"bouton-close",text:"Annuler",func1:function(){r("close-modify"),Object.keys(l).length>0||Object.keys(o).length>0?r("open-confirmation"):r("open-desc-grade-1")}}),Object(i.jsx)(T,{id:"open-desc-grade-1",className:"hidden-btn bouton-close",text:"Revenir desc grade",targetToggle:"#gradeModal",dataToggle:"modal"}),Object(i.jsx)(T,{id:"close-modify",className:"hidden-btn bouton-close",text:"Fermer",dataDismiss:"modal",ariaLabel:"Close"}),Object(i.jsx)(T,{id:"open-confirmation",className:"hidden-btn bouton-close",text:"Cancel",targetToggle:"#confirmationCancelModal",dataToggle:"modal"}),Object(i.jsx)(T,{className:"bouton-action",text:"Enregistrer",func1:s})]})]})})})},L=function(e){var t=e.activateButton,a=e.deleteModification;return Object(i.jsx)("div",{id:"confirmationCancelModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"confirmationCancelModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsxs)("div",{className:"layout-modal-cancel row justify-content-center container",children:[Object(i.jsx)("i",{id:"icon-cancel",className:"bi bi-x-circle"}),Object(i.jsx)("h4",{children:"Voulez-vous vraiment annuler ? "}),Object(i.jsx)("p",{children:"Toutes vos modifications seront perdues."})]})}),Object(i.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(i.jsx)(T,{className:"bouton-close",text:"Non",func1:t,param1:"close-cancel",func2:t,param2:"open-modify-grade"}),Object(i.jsx)(T,{id:"open-desc-grade-2",className:"hidden-btn bouton-close",text:"Revenir desc grade",targetToggle:"#gradeModal",dataToggle:"modal"}),Object(i.jsx)(T,{id:"open-modify-grade",className:"hidden-btn bouton-close",text:"Revenir modif grades",targetToggle:"#modifyGradeModal",dataToggle:"modal"}),Object(i.jsx)(T,{id:"close-cancel",className:"hidden-btn bouton-close",text:"Fermer tout",dataDismiss:"modal",ariaLabel:"Close"}),Object(i.jsx)(T,{className:"bouton-warning",text:"Oui",func1:a})]})]})})})},F=function(e){var t=e.name,a=e.allowed,c=e.notification;return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#popUp","data-whatever":"@mdo",children:"X"}),Object(i.jsxs)("div",{className:"row align-items-center p-1 m-2 bg-light rounded col-10 col-lg-7",id:"popUp",children:[Object(i.jsx)("div",{className:"name-camera-grade col-9",children:t}),Object(i.jsx)("div",{className:"bg-notification rounded col-3 col-lg-2",style:{backgroundColor:a?"var(--camera-allow)":"var(--camera-refuse)"},children:Object(i.jsx)("i",{className:"bi bi-bell icon-notification",style:{color:c?"white":a?"var(--camera-allow)":"var(--camera-refuse)"}})})]})]})},I=function(e){var t=e.informationsCameras,a=e.colorModalDetails,c=e.titleModalDetails,n=e.activateButton,s=e.resetModal;return Object(i.jsx)("div",{id:"gradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsx)(E,{id:"gradeModalLabel",bgColor:a,text:c}),Object(i.jsxs)("div",{className:"modal-body",children:[Object(i.jsx)("div",{className:"row justify-content-center",children:Object(i.jsxs)("div",{className:"layout-legend col-10 col-lg-9",children:[Object(i.jsxs)("div",{className:"col-12",children:[Object(i.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-allow)",fontSize:"0.95rem"}})," : acc\xe8s autoris\xe9s"]}),Object(i.jsxs)("div",{className:"col-12",children:[Object(i.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-refuse)",fontSize:"0.95rem"}})," : acc\xe8s refus\xe9s"]}),Object(i.jsxs)("div",{className:"col-12",style:{margin:"0.3rem 0rem 0rem 0rem"},children:[Object(i.jsx)("i",{className:"bi bi-bell icon-notification",style:{fontSize:"0.7rem",backgroundColor:"#7a7a7a",color:"white",padding:"0.0375rem 0.15rem 0.0375rem 0.15rem",borderRadius:"4px"}})," : activation d'une alerte de pr\xe9sence"]})]})}),Object(i.jsx)("div",{className:"row justify-content-center",children:t&&t.map((function(e){return Object(i.jsx)(F,{allowed:e.allowed,name:e.name_camera,notification:e.notification},"prop-".concat(e.id_permission))}))})]}),Object(i.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(i.jsx)(T,{id:"close-informations",className:"bouton-close",text:"Fermer",dataDismiss:"modal",ariaLabel:"Close"}),Object(i.jsx)(T,{className:"bouton-action",text:"Modifier",targetToggle:"#modifyGradeModal",dataToggle:"modal",func1:n,param1:"close-informations",func2:s})]})]})})})};var B=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(null),o=Object(l.a)(s,2),r=o[0],d=o[1],b=Object(c.useState)([]),j=Object(l.a)(b,2),m=j[0],u=j[1],h=Object(c.useState)(""),f=Object(l.a)(h,2),p=f[0],O=f[1],x=Object(c.useState)(""),g=Object(l.a)(x,2),v=g[0],N=g[1],y=Object(c.useState)(""),C=Object(l.a)(y,2),_=C[0],T=C[1],z=Object(c.useState)("var(--empty-color)"),E=Object(l.a)(z,2),F=E[0],B=E[1],A=Object(c.useState)("empty"),V=Object(l.a)(A,2),P=V[0],H=V[1],q=Object(c.useState)(""),D=Object(l.a)(q,2),U=D[0],J=D[1],R=Object(c.useState)(""),W=Object(l.a)(R,2),X=W[0],K=W[1],Q=Object(c.useState)(""),Y=Object(l.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(c.useState)("null"),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)("Chargement"),se=Object(l.a)(ne,2),oe=se[0],le=se[1],ie=Object(c.useState)("var(--text-loading)"),re=Object(l.a)(ie,2),de=re[0],be=re[1],je=0,me=0,ue={autoClose:8e3,position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"},he="Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous.",fe={},pe={};Object(c.useEffect)((function(){Array.from(document.querySelectorAll('button[data-bs-toggle="popover"]')).forEach((function(e){return new w.a(e)})),Array.from(document.querySelectorAll(".toast")).forEach((function(e){return new w.b(e)})),Array.from(document.querySelectorAll('button[data-bs-toggle="tooltip"]')).forEach((function(e){return new w.c(e)}))}),[]),Object(c.useEffect)((function(){Oe(),xe()}),[]);var Oe=function(){var e={method:"GET",headers:{"Content-Type":"application/json"}};fetch("/api/grades",e).then((function(e){return e.json()})).then((function(t){fetch("/api/grades/members",e).then((function(e){return e.json()})).then((function(e){t.map((function(t){return t.members=e.filter((function(e){return e.id_grade===t.id_grade}))[0].members})),n(t)}))}))},xe=function(){fetch("/api/grades/colors",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){u(e)}))},ge=function(e,t){B(t),H(e)},ve=function(e,t){(e&&(ce("1px solid #ced4da"),J("")),t)&&(K(""),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:none}")},Ne=function(){ve(!0,!0),ge("empty","var(--empty-color)"),$("")},ye=function(e,t,a){be(e),le(t),O(e),N(t),T(a);fetch("/api/grades/".concat(a,"/cameras"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d(e)}))},Ce=function(e){document.getElementById(e).click()},we=function(){je===Object.keys(fe).length&&me===Object.keys(pe).length&&(je=0,me=0,Ce("close-modify"),fe={},pe={},Oe(),ye(p,v,_),k.b.success("Vous venez de modifier les actions des cam\xe9ras du grade "+v+" !",ue))};return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"row justify-content-center",children:[Object(i.jsxs)("div",{id:"desription-page",className:"row col-11 col-sm-10 col-md-9 col-lg-7",children:[Object(i.jsx)("div",{id:"title-description",className:"col-12",children:"Grades"}),Object(i.jsxs)("div",{id:"description",className:"col-12",children:["Cette page vous permet de cr\xe9er des grades, ",Object(i.jsx)("br",{})," ainsi que de voir les d\xe9tails de ces ",Object(i.jsx)("br",{})," derniers !"]})]}),a&&a.map((function(e){return Object(i.jsx)("div",{className:"col-12",onClick:function(){return ye(e.color,e.name_grade,e.id_grade)},children:Object(i.jsx)(S,{name:e.name_grade,color:e.color,members:e.members,allowed_camera:e.allowedcamera,refused_camera:e.refusedcamera},"prop-".concat(e.id_grade))})})),Object(i.jsx)("div",{id:"layout-add",className:"row p-1 text-center justify-content-center col-12",children:Object(i.jsx)("span",{title:"Cr\xe9er un grade","data-toggle":"tooltip","data-placement":"top",children:Object(i.jsx)("i",{type:"button",className:"p-0 bi bi-plus-circle-fill add-user col-1","data-bs-toggle":"modal","data-bs-target":"#addGradeModal"})})})]}),Object(i.jsx)(I,{informationsCameras:r,colorModalDetails:de,titleModalDetails:oe,activateButton:Ce,resetModal:function(){for(var e in r)r[e].id_camera in fe?document.getElementsByClassName("action-"+_+"-"+r[e].id_camera)[0].checked=fe[e]:document.getElementsByClassName("action-"+_+"-"+r[e].id_camera)[0].checked=r[e].allowed,r[e].id_camera in pe?document.getElementById("notification-"+_+"-"+r[e].id_camera).className=pe[e]?"bi bi-bell-fill":"bi bi-bell-slash-fill":document.getElementById("notification-"+_+"-"+r[e].id_camera).className=r[e].notification?"bi bi-bell-fill":"bi bi-bell-slash-fill"}}),Object(i.jsx)(M,{nameGrade:Z,borderGrade:ae,colorGrade:F,idColorGrade:P,colors:m,errorName:U,errorColor:X,setNameGrade:$,resetCreation:Ne,createGrade:function(){var e=Z,t=P,c=!1,n=!1;(""===e?(ce("1px solid var(--error)"),J("Veuillez choisir un nom")):-1!==a.map((function(e){return e.name_grade})).indexOf(e)?(ce("1px solid var(--error)"),J("Ce nom existe d\xe9j\xe0")):(ve(!0,!1),c=!0),"empty"===t)?(K("Veuillez choisir une couleur"),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:1px solid red}"):(ve(!1,!0),n=!0);n&&c&&(ve(!0,!0),fetch("/api/grades",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,idcolor:t})}).then((function(e){return e.json()})).then((function(t){Ne(),document.getElementById("cancel-creation").click(),"ok"===t.message?(Oe(),xe(),k.b.success("Vous venez de cr\xe9er le grade "+e+" !",ue)):k.b.error(he,ue)})))},chooseColor:ge}),Object(i.jsx)(G,{currentColor:p,currentIdGrade:_,currentGrade:v,informationsCameras:r,saveAction:function(){for(var e in fe){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera:e,action:fe[e]})};fetch("/api/grades/".concat(_,"/action"),t).then((function(e){return e.json()})).then((function(e){1===e.count?(je++,we()):k.b.error(he,ue)}))}for(var a in pe){var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera:a,notification:pe[a]})};fetch("/api/grades/".concat(_,"/notification"),c).then((function(e){return e.json()})).then((function(e){1===e.count?(me++,we()):k.b.error(he,ue)}))}},newNotifications:pe,newActions:fe,activateButton:Ce}),Object(i.jsx)(L,{activateButton:Ce,deleteModification:function(){Ce("close-cancel"),Ce("open-desc-grade-2"),fe={},pe={}}}),Object(i.jsx)(k.a,{style:{fontSize:"0.6rem"}})]})};a(336);var A=function(){var e=Object(c.useState)("http://0.0.0.0:6060/video"),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),r=(o[0],o[1],Object(c.useState)(null)),d=Object(l.a)(r,2),b=d[0],j=d[1],m=Object(c.useState)(null),u=Object(l.a)(m,2),h=u[0],f=u[1],p={autoClose:5e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,theme:"colored"};function O(){console.log("up"),fetch("http://0.0.0.0:6060/up",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("http://0.0.0.0:6060/video")}))}function x(){console.log("\xe9teindre"),fetch("http://0.0.0.0:6060/shutdown",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("camera-disconnected.png")}))}function g(e){document.getElementById(e).checked?O():x()}return Object(c.useEffect)((function(){fetch("/api/cameras",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json()})).then((function(e){j(e)}))}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{class:"row align-items-center",children:Object(i.jsxs)("div",{class:"m-auto px-2",children:[Object(i.jsx)("h1",{children:"test"}),Object(i.jsxs)("section",{class:"streaming",children:[Object(i.jsx)("h3",{children:"Camera"}),Object(i.jsx)("div",{id:"changement",children:Object(i.jsx)("img",{id:"test",alt:"video surveillance",src:a,width:"640",height:"480"})})]}),Object(i.jsx)("button",{class:"btn btn-primary m-5",type:"button",onClick:function(){console.log("capture"),fetch("http://0.0.0.0:6060/photo",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){fetch("/api/pictureScreenshoot",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){f(e.picture);var t=function(){return Object(i.jsx)("div",{children:Object(i.jsx)("img",{class:"layout-screenshot","data-bs-toggle":"modal","data-bs-target":"#openscreenshotmodal",src:"image-client/".concat(e.picture),alt:"video surveillance",width:"100",height:"auto"})})};k.b.info(Object(i.jsx)(t,{}),p)}))}))},children:"prend photo"}),Object(i.jsx)("button",{class:"btn btn-primary m-5",onClick:O,type:"button",name:"start",value:"Eteindre",children:"up"}),Object(i.jsx)("button",{class:"btn btn-primary m-5",onClick:x,type:"button",name:"stop",value:"Eteindre",children:"\xc9teindre"}),b&&b.map((function(e){return Object(i.jsxs)("div",{class:"form-check form-switch",children:["ON"===e.name_status?Object(i.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,defaultChecked:!0,onClick:function(){return g(e.id_camera)}}):"OFF"===e.name_status?Object(i.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,onClick:function(){return g(e.id_camera)}}):Object(i.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,disabled:!0}),Object(i.jsx)("label",{class:"form-check-label",for:e.id_camera,children:e.name_camera})]})}))]})}),Object(i.jsx)(k.a,{style:{fontSize:"0.6rem"}}),Object(i.jsx)("div",{id:"openscreenshotmodal",className:"modal fade","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable",children:Object(i.jsx)("div",{className:"modal-content",children:Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsx)("img",{class:"modal-screenshot",src:"image-client/".concat(h),alt:"video surveillance",width:"100%",height:"100%"})})})})})]})},V=a(42),P=(a(337),a(338),function(e){var t=e.nom,a=e.status,c=e.id;return Object(i.jsx)("div",{className:"col-2 col-md-2 col-sm-2 offset-4 offset-md-5 offset-sm-4 offset-lg-7 switchcam",children:Object(i.jsxs)("div",{className:"toggle-switch",children:[1===a?Object(i.jsx)("input",{type:"checkbox",className:"checkbox",id:c,defaultChecked:!0}):2===a?Object(i.jsx)("input",{type:"checkbox",className:"checkbox",id:c}):Object(i.jsx)("input",{type:"checkbox",className:"checkbox",id:t,disabled:!0,style:{backgroundColor:"grey"}}),Object(i.jsxs)("label",{className:"label",htmlFor:t,children:[Object(i.jsx)("span",{className:"inner"}),Object(i.jsx)("span",{className:"switch"})]})]})})});var H=function(){return Object(i.jsx)("div",{class:"modal fade",id:"ModalTarget","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(i.jsx)("div",{class:"modal-dialog",children:Object(i.jsxs)("div",{class:"modal-content",children:[Object(i.jsxs)("div",{class:"modal-header",children:[Object(i.jsx)("h5",{style:{color:"grey"},class:"modal-title",id:"staticBackdropLabel",children:"__Live__"}),Object(i.jsx)("button",{type:"button",class:" btn-secondary btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(i.jsx)("div",{class:"modal-body",children:Object(i.jsx)("img",{className:"img-thumbnail",alt:"visu_live",src:"http://0.0.0.0:6060/video",width:"440",height:"300",title:"Foscam FI8905W"})}),Object(i.jsxs)("div",{class:"modal-footer justify-content-center",children:[Object(i.jsx)("button",{type:"button",className:" col-3 btn btn-secondary",children:Object(i.jsx)("i",{className:"bi bi-camera-reels"})}),Object(i.jsx)("button",{type:"button",className:" col-3 btn btn-secondary",children:Object(i.jsx)("i",{className:"bi bi-camera"})})]})]})})})};var q=function(e){var t,a=e.idCam,c=e.nomCam,n=e.statusCam,s=e.nomStatus;return Object(i.jsx)("div",{children:1===n?Object(i.jsxs)("div",(t={"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Cliquez pour visionner le live",className:"row col-11 col-sm-9 col-md-7 col-lg-8 offset-sm-3 offset-md-4 offset-1 offset-lg-3 cadreBouton ".concat(s)},Object(V.a)(t,"data-bs-toggle","modal"),Object(V.a)(t,"data-bs-target","#ModalTarget"),Object(V.a)(t,"children",[Object(i.jsx)("div",{className:"col-1 col-md-1 col-sm-2",children:Object(i.jsx)("i",{class:"bi bi-camera-video"})}),Object(i.jsx)("div",{className:"col-3 col-sm-2 col-md-2 offset",children:c}),Object(i.jsx)(P,{nom:c,status:n,id:a}),Object(i.jsx)(H,{idName:s})]),t)):Object(i.jsxs)("div",{className:"row col-11 col-sm-9 col-md-7 col-lg-8 offset-sm-3 offset-md-4 offset-1 offset-lg-3 cadreBouton ".concat(s),children:[Object(i.jsx)("div",{className:"col-1 col-md-1 col-sm-2",children:Object(i.jsx)("i",{class:"bi bi-camera-video-off"})}),Object(i.jsx)("div",{className:"col-3 col-sm-2 col-md-2 offset",children:c}),Object(i.jsx)(P,{nom:c,status:n,id:a})]})})};a(339);var D=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){fetch("http://localhost:3001/api/camera",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(i.jsxs)("div",{className:"cam2",children:[Object(i.jsx)("div",{className:"titre offset-lg-5 offset-md-4 offset-sm-4 offset-2",children:"Page de gestion des cam\xe9ras"}),Object(i.jsx)("div",{class:"container",children:Object(i.jsx)("div",{className:"row",children:a&&a.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(q,{nomCam:e.name_camera,statusCam:e.id_status,idCam:e.id_camera,nomStatus:e.name_status})})}))})})]})};a(340);var U,J=function(){O.a.defaults.withCredentials=!0;var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),b=o[0],j=o[1],m=Object(c.useState)(""),u=Object(l.a)(m,2),h=u[0],f=u[1],p=Object(c.useState)([]),x=Object(l.a)(p,2),g=x[0],N=x[1];Object(c.useEffect)((function(){C()}),[]);var C=function(){O.a.get("/api/gradesInfos").then((function(e){N(e.data)})).then((function(){}))};return Object(i.jsxs)("div",{className:"secretary-page",children:[Object(i.jsx)(r,{}),Object(i.jsx)("div",{id:"layout-user",children:Object(i.jsxs)(d.a,{trigger:Object(i.jsx)("button",{className:"add-user",children:"Ajouter utilisateur (+)"}),position:"center",modal:!0,nested:!0,children:[Object(i.jsx)("h1",{children:"Nouvel utilisateur:"}),Object(i.jsxs)("form",{onSubmit:function(){console.log("client : ",h),O.a.put("/api/client",{FirstName:a,LastName:b,Grade:h}).then((function(e){e&&window.alert("Client d\xe9j\xe0 enregistr\xe9")}))},children:[Object(i.jsx)("label",{for:"f-name",children:"Pr\xe9nom:"}),Object(i.jsx)("br",{}),Object(i.jsx)(y,{name:"f-name",idName:"f-name",max:"50",min:"1",type:"texte",placeholder:"Pr\xe9nom",setFunc:n}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{for:"l-name",children:"Nom:"}),Object(i.jsx)("br",{}),Object(i.jsx)(y,{name:"l-name",idName:"l-name",max:"50",min:"1",type:"texte",placeholder:"Nom",setFunc:j}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{for:"grade",children:"Grade:"}),Object(i.jsx)("br",{}),Object(i.jsx)("select",{onChange:function(e){f(e.target.value)},name:"grade",children:g.map((function(e){return Object(i.jsxs)("option",{value:e.id_grade,children:[e.id_grade+". ",e.name_grade]})}))}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Envoyer"}),Object(i.jsx)(v,{})]})]})})]})},R=a(101),W=a(12),X=a(126),K=a.n(X),Q=a(181),Y=a(182),Z=a(190),$=(a(342),a(78)),ee=a(183),te=a(184).a.div(U||(U=Object(Y.a)(["\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  margin: 0px;\n  border-radius: 50%;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n"]))),ae={autoClose:4e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"};var ce=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=(t[1],Object(c.useState)("")),s=Object(l.a)(n,2),o=(s[0],s[1]),r=Object(c.useState)(""),d=Object(l.a)(r,2),b=(d[0],d[1]),j=[],m=Object(c.useState)(""),u=Object(l.a)(m,2),h=u[0],f=u[1],p=Object(c.useState)([]),O=Object(l.a)(p,2),x=O[0],g=O[1],v=Object(c.useState)(""),N=Object(l.a)(v,2),y=N[0],C=N[1],w=Object(c.useState)(null),S=Object(l.a)(w,2),_=(S[0],S[1]),T=Object(c.useState)(null),M=Object(l.a)(T,2),z=M[0],E=M[1],G=Object(c.useState)(""),L=Object(l.a)(G,2),F=L[0],I=L[1],B=Object(c.useState)(""),A=Object(l.a)(B,2),V=A[0],P=A[1],H=Object(c.useState)(""),q=Object(l.a)(H,2),D=(q[0],q[1]),U=Object(c.useState)(0),J=Object(l.a)(U,2),R=J[0],W=J[1],X=Object(c.useState)(""),Y=Object(l.a)(X,2),ce=Y[0],ne=Y[1],se=Object(c.useState)(null),oe=Object(l.a)(se,2),le=oe[0],ie=oe[1],re=function(e){fetch("/api/membres/".concat(e,"/grade"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){P(e[0].name_grade),I(e[0].color),D(e.id_grade),_(!0)}))},de=function(e){console.log(e);fetch("/api/membres/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0].first_name.replaceAll("\\s+",""),a=e[0].last_name.replaceAll("\\s+",""),c=t.replace(/\s+/g,"")+" "+a.replace(/\s+/g,"");c.replace(/\s+/g,""),o(t),b(a),f(c),_(!0)}))},be={},je=function(e){fetch("/api/membres/".concat(e,"/photos/count"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){E(e[0].count),_(!0)}))},me=function(e){fetch("/api/membres/".concat(e,"/photos"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t in g(e),e)j.push(e[t].pictures),C(e[0].pictures);_(!0)})),C(j[0])},ue=Object(i.jsx)($.a,{id:"popover-basic",children:Object(i.jsx)($.a.Body,{id:"popover-test",children:Object(i.jsx)("div",{class:"row",children:x.map((function(e){return Object(i.jsxs)("div",{class:" test col",children:[Object(i.jsx)("i",{class:"bi bi-x-circle-fill pr-2 mb-3",onClick:function(){return function(e){console.log(e),fetch("/api/membres/".concat(ce,"/eliminate/photo"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e})}).then((function(e){console.log(e),200===e.status?(k.b.success("Vous venez d'effacer la photo",ae),me(ce),je(ce)):k.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))}(e.pictures)}}),Object(i.jsx)("img",{class:"img-thumbnail h-50",src:e.pictures,alt:""})]})}))})})}),he=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(t),de(t),re(t),me(t),je(t),fetch("/api/grades",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){ie(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(k.a,{style:{fontSize:"0.6rem"}}),Object(i.jsx)("button",{type:"button",onClick:function(){he(1)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 1"}),Object(i.jsx)("button",{type:"button",onClick:function(){return he(2)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 2"}),Object(i.jsx)("button",{type:"button",onClick:function(){return he(3)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 3"}),Object(i.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(i.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(i.jsxs)("div",{class:"modal-content",style:{backgroundColor:F},children:[Object(i.jsxs)("div",{class:"modal-body",children:[Object(i.jsx)("div",{class:"hovereffect",children:Object(i.jsxs)("div",{class:"row",children:[Object(i.jsx)("div",{class:"col",children:Object(i.jsxs)(te,{children:[Object(i.jsx)("img",{src:y,alt:""}),Object(i.jsx)(Z.a,{trigger:"click",placement:"right",overlay:ue,children:Object(i.jsx)("span",{className:"badge nineplus",children:z})})]})}),Object(i.jsx)("div",{class:"col"})]})}),Object(i.jsx)("div",{class:"tool",children:0===R?Object(i.jsxs)("p",{class:"affiche",children:[" ",V.toUpperCase()," ",Object(i.jsx)("i",{onClick:function(){W(1),le.map((function(e){return be[e.name_grade]=e.color.replace(/\s+/g,"")})),V in be&&delete be[V]},className:"bi bi-pencil-square",style:{color:"white",background:F,backgroundSize:"10px",fontSize:"80%",textAlign:"right",paddingRight:"10px ",paddingLeft:"4px"}})]}):le.map((function(e){return e.name_grade!==V?Object(i.jsx)("i",{onClick:function(){var t;t=e.id_grade,fetch("/api/membres/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userNow:ce})}).then((function(e){console.log(e),200===e.status?k.b.success("Vous venez de modifier le grade de l'utilisateur",ae):k.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")})),he(ce),W(0)},className:"bi bi-person-square",style:{color:e.color,border:"10px black",fontSize:"100%",background:F,textAlign:"right",paddingRight:"20px"}},e.name_grade):""}))})]}),Object(i.jsx)("div",{class:"col-12",children:Object(i.jsx)(ee.a,{value:h,type:"text",onSave:function(e){var t=e.split(/(\s+)/).filter((function(e){return e.trim().length>0})),a=t[0],c=t[1];fetch("/api/membres/".concat(ce,"/update"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,surname:c})}).then((function(e){console.log(e),200===e.status?k.b.success("Vous venez de modifier le nom et pr\xe9nom de cet utilisateur",ae):k.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))},editing:a,buttonsAlign:"before"})})]})})})]})};var ne=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),r=o[0],d=o[1],b=Object(c.useState)(0),j=Object(l.a)(b,2);return j[0],j[1],Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(i.jsxs)("div",{class:"mb-3",children:[Object(i.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Nom d'utilisateuuuuuuuur"}),Object(i.jsx)("input",{type:"text",placeholder:"toto",value:a,onChange:function(e){return n(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(i.jsxs)("div",{class:"mb-3",children:[Object(i.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(i.jsx)("input",{type:"password",placeholder:"",value:r,onChange:function(e){return d(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(i.jsx)("button",{onClick:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:r})};fetch("/api/login",e).then((function(e){return e.json()})).then((function(e){console.log(e.value),e.value&&(localStorage.setItem("access_token",e.value),null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")&&window.location.replace("/grades"))}))},class:"btn btn-primary",children:"Connecter"}),Object(i.jsx)("br",{})]})})})};function se(){return null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")}var oe=a(5),le=a(25),ie=["component"],re=function(e){var t=e.component,a=Object(le.a)(e,ie);return Object(i.jsx)(W.b,Object(oe.a)(Object(oe.a)({},a),{},{render:function(e){return se()?Object(i.jsx)(t,Object(oe.a)({},e)):Object(i.jsx)(W.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var de=function(){return se(),Object(i.jsx)(R.a,{children:Object(i.jsx)("div",{className:"App",children:Object(i.jsx)("div",{className:"content",children:Object(i.jsxs)(W.d,{children:[Object(i.jsx)(re,{exact:!0,isloggedin:se(),component:B,path:"/grades"}),Object(i.jsx)(re,{exact:!0,isloggedin:se(),component:A,path:"/camera"}),Object(i.jsx)(re,{exact:!0,isloggedin:se(),component:D,path:"/accueil"}),Object(i.jsx)(re,{exact:!0,isloggedin:se(),component:J,path:"/secretary"}),Object(i.jsx)(re,{exact:!0,isloggedin:se(),component:C,path:"/members"}),Object(i.jsx)(re,{exact:!0,isloggedin:se(),path:"/modification",component:ce}),Object(i.jsx)(W.b,{path:"/login",exact:!0,component:ne})]})})})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,355)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),s(e),o(e)}))};o.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(de,{})}),document.getElementById("root")),be()},37:function(e,t,a){}},[[349,1,2]]]);
//# sourceMappingURL=main.54fcb3c2.chunk.js.map