(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e,t,a){},177:function(e,t,a){},196:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},342:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(26),s=a.n(o),i=(a(196),a(130),a(6)),r=(a(54),a(31),a(43),a(72),a(49),a(73),a(99)),l=(a(142),a(16)),d=a(9),b=a(13),j=a(70),m=a(21),u=a(20),h=a(36),f=a.n(h),p=f.a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,[{key:"upload",value:function(e,t){var a=new FormData;return a.append("file",e),p.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return p.get("/files")}}]),e}()),x=a(1),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).selectFiles=c.selectFiles.bind(Object(j.a)(c)),c.upload=c.upload.bind(Object(j.a)(c)),c.uploadFiles=c.uploadFiles.bind(Object(j.a)(c)),c.previewImages=[],c.state={selectedFiles:void 0,progressInfos:[],message:[],fileInfos:[]},c}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"selectFiles",value:function(e){this.setState({progressInfos:[],selectedFiles:e.target.files})}},{key:"upload",value:function(e,t){var a=this,c=Object(l.a)(this.state.progressInfos);O.upload(t,(function(t){c[e].percentage=Math.round(100*t.loaded/t.total),a.setState({_progressInfos:c})})).then((function(e){return a.setState((function(e){return{message:[].concat(Object(l.a)(e.message),["Uploaded the file successfully: "+t.name])}})),O.getFiles()})).then((function(e){a.setState({fileInfos:e.data})})).catch((function(){c[e].percentage=0,a.setState((function(e){var a=[].concat(Object(l.a)(e.message),["Could not upload the file: "+t.name]);return{progressInfos:c,message:a}}))}))}},{key:"uploadFiles",value:function(e){var t=this;e.preventDefault();for(var a=this.state.selectedFiles,c=[],n=0;n<a.length;n++)c.push({percentage:0,fileName:a[n].name});this.setState({progressInfos:c,message:[]},(function(){for(var e=0;e<a.length;e++)t.upload(e,a[e])}))}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,a=(e.previewImages,e.progressInfos),c=e.message;e.fileInfos;return Object(x.jsxs)("div",{children:[a&&a.map((function(e,t){return Object(x.jsxs)("div",{className:"mb-2",children:[Object(x.jsx)("span",{children:e.fileName}),Object(x.jsx)("div",{className:"progress",children:Object(x.jsxs)("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.percentage+"%"},children:[e.percentage,"%"]})})]},t)})),Object(x.jsxs)("div",{className:"row my-3",children:[Object(x.jsx)("div",{className:"col-8",children:Object(x.jsx)("label",{className:"btn btn-default p-0",children:Object(x.jsx)("input",{type:"file",multiple:!0,onChange:this.selectFiles})})}),Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)("button",{className:"btn btn-success btn-sm",disabled:!t,onClick:this.uploadFiles,type:"submit",children:"Enregistrer"})})]}),c.length>0&&Object(x.jsx)("div",{className:"alert alert-secondary",role:"alert",children:Object(x.jsx)("ul",{children:c.map((function(e,t){return Object(x.jsx)("li",{children:e},t)}))})})]})}}]),a}(c.Component),v=function(e){var t=e.type,a=e.name,c=e.min,n=e.max,o=e.placeholder,s=e.setFunc,i=e.pattern,r=e.title,l=e.step,d=e.idName;return Object(x.jsx)("input",{className:"input_modif",id:d,step:l,pattern:i,required:!0,title:r,type:t,name:a,minLength:c,maxLength:n,placeholder:o,onChange:function(e){s(e.target.value)}})};v.defaultProps={type:"text",min:4,max:10,placeholder:"texte"};var y=v;function N(){f.a.defaults.withCredentials=!0;var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),l=s[0],d=s[1],b=Object(c.useState)(1),j=Object(i.a)(b,2),m=j[0],u=j[1],h=Object(c.useState)([]),p=Object(i.a)(h,2),O=p[0],v=p[1],N=Object(c.useState)([]),C=Object(i.a)(N,2),w=C[0],S=C[1],k=Object(c.useState)(""),_=Object(i.a)(k,2),T=(_[0],_[1],Object(c.useState)("")),E=Object(i.a)(T,2),G=E[0],M=E[1],A=Object(c.useState)("Tous"),I=Object(i.a)(A,2),F=I[0],z=I[1];Object(c.useEffect)((function(){B(),L()}),[]);var L=function(){fetch("/api/members",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){S(e)}))},B=function(){f.a.get("http://localhost:3001/api/gradesInfos").then((function(e){v(e.data)})).then((function(){}))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"rounded row mt-2 justify-content-center",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)("input",{style:{border:"1px solid grey"},type:"text",onChange:function(e){M(e.target.value)},placeholder:"chercher"})}),Object(x.jsxs)("select",{onChange:function(e){return z(e.target.value)},style:{width:"20%"},className:"form-select form-select-sm","aria-label":"Default select example",children:[Object(x.jsx)("option",{children:"Tous"}),O.map((function(e){return Object(x.jsx)("option",{children:e.name_grade})}))]})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"row offset-1 justify-content-center",children:[Object(x.jsxs)(r.a,{trigger:Object(x.jsx)("button",{style:{backgroundColor:"#c6e5c3",border:"1px solid lightgrey"},className:"rounded col-sm-3 col-lg-3 mt-4 mb-5",children:"Ajouter utilisateur (+)"}),position:"center",modal:!0,nested:!0,children:[Object(x.jsx)("h1",{children:"Nouvel utilisateur:"}),Object(x.jsxs)("form",{onSubmit:function(){f.a.put("http://localhost:3001/api/client",{FirstName:a,LastName:l,Grade:m}).then((function(e){e&&window.alert("Client d\xe9j\xe0 enregistr\xe9")}))},children:[Object(x.jsx)("label",{for:"f-name",children:"Pr\xe9nom:"}),Object(x.jsx)("br",{}),Object(x.jsx)(y,{name:"f-name",idName:"f-name",max:"50",min:"1",type:"texte",placeholder:"Pr\xe9nom",setFunc:n}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{for:"l-name",children:"Nom:"}),Object(x.jsx)("br",{}),Object(x.jsx)(y,{name:"l-name",idName:"l-name",max:"50",min:"1",type:"texte",placeholder:"Nom",setFunc:d}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{for:"grade",children:"Grade:"}),Object(x.jsx)("br",{}),Object(x.jsx)("select",{required:!0,onChange:function(e){u(e.target.value)},name:"grade",children:O.map((function(e){return Object(x.jsxs)("option",{value:e.id_grade,children:[e.id_grade+". ",e.name_grade]})}))}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",children:"Envoyer"}),Object(x.jsx)(g,{})]})]}),w.filter((function(e){return e.first_name.includes(G)})).filter("Tous"!==F?function(e){return e.name_grade===F}:function(e){return e.name_grade.includes("")}).map((function(e){return Object(x.jsx)("div",{className:"rounded col-sm-5 col-lg-3 p-4 mx-1 mb-3 ","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:Object(x.jsxs)("div",{className:"row rounded",children:[Object(x.jsx)("div",{style:{backgroundColor:e.color,fontSize:"0.7rem"},className:"col-6",children:e.name_grade}),Object(x.jsx)("div",{style:{backgroundColor:e.color},className:"col-6",children:Object(x.jsx)("button",{className:"p-2 btn-close btn-close-grey float-end",id:e.id_member,onClick:function(t){window.confirm("Voulez vous vraiment supprimer "+e.last_name+"?")&&function(e){var t=e;f.a.delete("http://localhost:3001/api/members/".concat(t)).then((function(e){e&&window.location.reload()}))}(t.target.id)}})}),Object(x.jsxs)("div",{style:{backgroundColor:"#ebebeb"},className:"rounded col-12",children:[Object(x.jsx)("div",{class:"col-md-4 text-align",children:Object(x.jsx)("img",{src:"https://as2.ftcdn.net/v2/jpg/03/32/59/65/1000_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",class:"img-fluid rounded-start",alt:"profile-pic"})}),e.first_name," ",e.last_name]})]})})}))]})})]})}var C=a(68),w=a(15),S=(a(37),function(e){var t=e.name,a=e.color,c=e.members,n=e.allowed_camera,o=e.refused_camera;return Object(x.jsx)("div",{className:"row p-1 justify-content-center card-grade",children:Object(x.jsxs)("div",{type:"button",className:"p-1 bg-light shadow-sm rounded row col-10 col-md-9 col-lg-7 col-xl-6","data-bs-toggle":"modal","data-bs-target":"#gradeModal",children:[Object(x.jsx)("div",{className:"rounded bg-person col-12 col-sm-3",style:{backgroundColor:a},children:Object(x.jsx)("i",{className:"bi bi-people icon-person"})}),Object(x.jsx)("div",{className:"align-self-center name-grade col-8 col-sm-6",children:t}),Object(x.jsxs)("div",{className:"layout-nbr-camera p-0 col align-self-end row col-4 col-sm-3",children:[Object(x.jsxs)("div",{className:"p-0 informations col-6",children:[n," ",Object(x.jsx)("i",{className:"bi bi-camera-video-fill allowed-camera"})]}),Object(x.jsxs)("div",{className:"p-0 informations col-6",children:[o," ",Object(x.jsx)("i",{className:"bi bi-camera-video-fill refused-camera"})]}),Object(x.jsxs)("div",{className:"p-0 informations col-12",children:[c," ",c>1?"membres":"membre"]})]})]})})}),k=a(190),_=function(e){var t=e.id,a=e.className,c=e.text,n=e.targetToggle,o=e.dataToggle,s=e.dataDismiss,i=e.ariaLabel,r=e.func1,l=e.param1,d=e.func2,b=e.param2;return void 0===r?Object(x.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":o,"data-bs-dismiss":s,"aria-label":i,children:c}):void 0===d?Object(x.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":o,"data-bs-dismiss":s,"aria-label":i,onClick:function(){r(l)},children:c}):Object(x.jsx)("button",{type:"button",id:t,className:"btn modal-button col-11 col-sm-5 ".concat(a),"data-bs-target":n,"data-bs-toggle":o,"data-bs-dismiss":s,"aria-label":i,onClick:function(){r(l),d(b)},children:c})},T=function(e){var t=e.nameGrade,a=e.borderGrade,n=e.colorGrade,o=e.idColorGrade,s=e.colors,r=e.errorName,l=e.errorColor,d=e.setNameGrade,b=e.resetCreation,j=e.createGrade,m=e.chooseColor,u=Object(c.useState)("red"),h=Object(i.a)(u,2),f=h[0],p=h[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),v=g[0],y=g[1];return Object(x.jsx)("div",{id:"addGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addGradeModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsx)("div",{className:"modal-header row",children:Object(x.jsx)("h5",{className:"modal-title p-1 col-sm-8 offset-sm-2",id:"addGradeModalLabel",children:"Ajouter un grade"})}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-12 col-md-6 order-1",children:[Object(x.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(x.jsx)("label",{id:"name-grade-label",className:"col-form-label",for:"name-grade",children:"Nom"})}),Object(x.jsx)("div",{id:"frame-name-grade-input",className:"p-0 m-1 col-10",children:Object(x.jsx)("input",{type:"text",id:"name-grade",className:" form-control",maxlength:"10",value:t,style:{border:a},onChange:function(e){d(e.target.value)}})})]}),Object(x.jsxs)("div",{className:"col-12 col-md-6 order-3 order-md-2",children:[Object(x.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(x.jsx)("label",{id:"color-grade-label",for:"color-grade",className:"col-form-label",children:"Couleur"})}),Object(x.jsxs)("div",{id:"frame-colors",className:"row p-0 m-0 rounded col-11",children:[Object(x.jsx)("div",{className:"container-final-color col-12",children:Object(x.jsx)("i",{id:o,className:"bi bi-square-fill final-color",style:{color:n,fontSize:"175%"}})}),s&&s.map((function(e){return Object(x.jsx)("div",{className:"container-choosing-color col-1",children:Object(x.jsx)("i",{type:"button",id:"little-square-".concat(e.id_color),className:"bi bi-square-fill ".concat(e.id_color),style:{color:e.name_color},onClick:function(){!function(e){document.head.appendChild(document.createElement("style")).innerHTML="#little-square-".concat(e,":before {border:1px solid var(--frame-choice-color); border-radius:4px;}");var t=document.head.appendChild(document.createElement("style")),a=o;t.innerHTML="#little-square-".concat(a,":before {border:none;}")}(e.id_color),m(e.id_color,e.name_color)}})})})),Object(x.jsxs)("div",{className:"container-choosing-color col-1",children:[Object(x.jsx)("i",{type:"button",className:"bi bi-plus-square square-selection",style:{color:f},onClick:function(){return y((function(e){return!e}))}}),v&&Object(x.jsx)(k.a,{color:f,onChange:function(e){return p(e.hex)}})]})]})]}),Object(x.jsx)("div",{id:"error-name",className:"errorMessage col-12 col-md-6 order-2 order-md-3",children:r}),Object(x.jsx)("div",{id:"error-color",className:"errorMessage col-12 col-md-6 order-4",children:l})]})})}),Object(x.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(x.jsx)(_,{id:"cancel-creation",className:"bouton-close",text:"Annuler",dataDismiss:"modal",ariaLabel:"Close",func1:b}),Object(x.jsx)(_,{className:"bouton-action",text:"Cr\xe9er",func1:j})]})]})})})},E=function(e){var t=e.name_camera,a=e.id_camera,c=e.notification,n=e.changeAction,o=e.changeNotification,s=e.allowed,i=e.currentIdGrade;return Object(x.jsxs)("div",{className:"layout-actions-cameras row p-1 m-2 bg-light rounded col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12",children:[Object(x.jsx)("div",{className:"name-camera-grade col-7 col-sm-7 col-md-7 col-lg-7 col-xl-7 col-xxl-7",children:t}),Object(x.jsx)("div",{className:"switch-camera-grade col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3",children:Object(x.jsx)("div",{className:"form-check form-switch",children:s?Object(x.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(i,"-").concat(a),defaultChecked:!0,role:"switch",onChange:function(){return n(a)}}):Object(x.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(i,"-").concat(a),role:"switch",onChange:function(){return n(a)}})})}),Object(x.jsx)("div",{className:"rounded col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2",children:Object(x.jsx)("i",{type:"button",id:"notification-".concat(i,"-").concat(a),className:"bi bi-bell-slash-fill",onClick:function(){return o(a,c)}})})]})},G=function(e){var t=e.id,a=e.bgColor,c=e.text;return Object(x.jsx)("div",{className:"modal-header row justify-content-center",children:Object(x.jsx)("h5",{id:t,className:"modal-title p-1 shadow-sm rounded col-10 col-sm-11 col-lg-9",style:{backgroundColor:a},children:c})})},M=function(e){var t=e.currentGrade,a=e.currentColor,c=e.informationsCameras,n=e.currentIdGrade,o=e.saveAction,s=e.newNotifications,i=e.newActions,r=e.activateButton,l=function(e,t){e in s?(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-fill":"bi bi-bell-slash-fill",delete s[e]):(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-slash-fill":"bi bi-bell-fill",s[e]=!t)},d=function(e){var t=document.getElementsByClassName("action-"+n+"-"+e)[0].checked;e in i?delete i[e]:i[e]=t};return Object(x.jsx)("div",{id:"modifyGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modifyGradeModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsx)(G,{id:"gradeModalLabel",bgColor:a,text:t}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("div",{className:"row justify-content-around",children:[Object(x.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:c&&c.filter((function(e){return c.indexOf(e)<c.length/2})).map((function(e){return Object(x.jsx)(E,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:d,changeNotification:l,allowed:e.allowed,currentIdGrade:n})}))}),Object(x.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:c&&c.filter((function(e){return c.indexOf(e)>=c.length/2})).map((function(e){return Object(x.jsx)(E,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:d,changeNotification:l,allowed:e.allowed,currentIdGrade:n})}))})]})}),Object(x.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(x.jsx)(_,{className:"bouton-close",text:"Annuler",func1:function(){r("close-modify"),Object.keys(i).length>0||Object.keys(s).length>0?r("open-confirmation"):r("open-desc-grade-1")}}),Object(x.jsx)(_,{id:"open-desc-grade-1",className:"hidden-btn bouton-close",text:"Revenir desc grade",targetToggle:"#gradeModal",dataToggle:"modal"}),Object(x.jsx)(_,{id:"close-modify",className:"hidden-btn bouton-close",text:"Fermer",dataDismiss:"modal",ariaLabel:"Close"}),Object(x.jsx)(_,{id:"open-confirmation",className:"hidden-btn bouton-close",text:"Cancel",targetToggle:"#confirmationCancelModal",dataToggle:"modal"}),Object(x.jsx)(_,{className:"bouton-action",text:"Enregistrer",func1:o})]})]})})})},A=function(e){var t=e.activateButton,a=e.deleteModification;return Object(x.jsx)("div",{id:"confirmationCancelModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"confirmationCancelModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("div",{className:"layout-modal-cancel row justify-content-center container",children:[Object(x.jsx)("i",{id:"icon-cancel",className:"bi bi-x-circle"}),Object(x.jsx)("h4",{children:"Voulez-vous vraiment annuler ? "}),Object(x.jsx)("p",{children:"Toutes vos modifications seront perdues."})]})}),Object(x.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(x.jsx)(_,{className:"bouton-close",text:"Non",func1:t,param1:"close-cancel",func2:t,param2:"open-modify-grade"}),Object(x.jsx)(_,{id:"open-desc-grade-2",className:"hidden-btn bouton-close",text:"Revenir desc grade",targetToggle:"#gradeModal",dataToggle:"modal"}),Object(x.jsx)(_,{id:"open-modify-grade",className:"hidden-btn bouton-close",text:"Revenir modif grades",targetToggle:"#modifyGradeModal",dataToggle:"modal"}),Object(x.jsx)(_,{id:"close-cancel",className:"hidden-btn bouton-close",text:"Fermer tout",dataDismiss:"modal",ariaLabel:"Close"}),Object(x.jsx)(_,{className:"bouton-warning",text:"Oui",func1:a})]})]})})})},I=function(e){var t=e.name,a=e.allowed,c=e.notification;return Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#popUp","data-whatever":"@mdo",children:"X"}),Object(x.jsxs)("div",{className:"row align-items-center p-1 m-2 bg-light rounded col-10 col-lg-7",id:"popUp",children:[Object(x.jsx)("div",{className:"name-camera-grade col-9",children:t}),Object(x.jsx)("div",{className:"bg-notification rounded col-3 col-lg-2",style:{backgroundColor:a?"var(--camera-allow)":"var(--camera-refuse)"},children:Object(x.jsx)("i",{className:"bi bi-bell icon-notification",style:{color:c?"white":a?"var(--camera-allow)":"var(--camera-refuse)"}})})]})]})},F=function(e){var t=e.informationsCameras,a=e.colorModalDetails,c=e.titleModalDetails,n=e.activateButton,o=e.resetModal;return Object(x.jsx)("div",{id:"gradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsx)(G,{id:"gradeModalLabel",bgColor:a,text:c}),Object(x.jsxs)("div",{className:"modal-body",children:[Object(x.jsx)("div",{className:"row justify-content-center",children:Object(x.jsxs)("div",{className:"layout-legend col-10 col-lg-9",children:[Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-allow)",fontSize:"0.95rem"}})," : acc\xe8s autoris\xe9s"]}),Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-refuse)",fontSize:"0.95rem"}})," : acc\xe8s refus\xe9s"]}),Object(x.jsxs)("div",{className:"col-12",style:{margin:"0.3rem 0rem 0rem 0rem"},children:[Object(x.jsx)("i",{className:"bi bi-bell icon-notification",style:{fontSize:"0.7rem",backgroundColor:"#7a7a7a",color:"white",padding:"0.0375rem 0.15rem 0.0375rem 0.15rem",borderRadius:"4px"}})," : activation d'une alerte de pr\xe9sence"]})]})}),Object(x.jsx)("div",{className:"row justify-content-center",children:t&&t.map((function(e){return Object(x.jsx)(I,{allowed:e.allowed,name:e.name_camera,notification:e.notification},"prop-".concat(e.id_permission))}))})]}),Object(x.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(x.jsx)(_,{id:"close-informations",className:"bouton-close",text:"Fermer",dataDismiss:"modal",ariaLabel:"Close"}),Object(x.jsx)(_,{className:"bouton-action",text:"Modifier",targetToggle:"#modifyGradeModal",dataToggle:"modal",func1:n,param1:"close-informations",func2:o})]})]})})})};var z=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(null),s=Object(i.a)(o,2),r=s[0],l=s[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),j=b[0],m=b[1],u=Object(c.useState)(""),h=Object(i.a)(u,2),f=h[0],p=h[1],O=Object(c.useState)(""),g=Object(i.a)(O,2),v=g[0],y=g[1],N=Object(c.useState)(""),k=Object(i.a)(N,2),_=k[0],E=k[1],G=Object(c.useState)("var(--empty-color)"),I=Object(i.a)(G,2),z=I[0],L=I[1],B=Object(c.useState)("empty"),P=Object(i.a)(B,2),q=P[0],V=P[1],D=Object(c.useState)(""),U=Object(i.a)(D,2),H=U[0],R=U[1],J=Object(c.useState)(""),W=Object(i.a)(J,2),X=W[0],K=W[1],Q=Object(c.useState)(""),Y=Object(i.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(c.useState)("null"),te=Object(i.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)("Chargement"),oe=Object(i.a)(ne,2),se=oe[0],ie=oe[1],re=Object(c.useState)("var(--text-loading)"),le=Object(i.a)(re,2),de=le[0],be=le[1],je=0,me=0,ue={autoClose:8e3,position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"},he="Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous.",fe={},pe={};Object(c.useEffect)((function(){Array.from(document.querySelectorAll('button[data-bs-toggle="popover"]')).forEach((function(e){return new C.a(e)})),Array.from(document.querySelectorAll(".toast")).forEach((function(e){return new C.b(e)})),Array.from(document.querySelectorAll('button[data-bs-toggle="tooltip"]')).forEach((function(e){return new C.c(e)}))}),[]),Object(c.useEffect)((function(){Oe(),xe()}),[]);var Oe=function(){var e={method:"GET",headers:{"Content-Type":"application/json"}};fetch("/api/grades",e).then((function(e){return e.json()})).then((function(t){fetch("/api/grades/members",e).then((function(e){return e.json()})).then((function(e){t.map((function(t){return t.members=e.filter((function(e){return e.id_grade===t.id_grade}))[0].members})),n(t)}))}))},xe=function(){fetch("/api/grades/colors",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){m(e)}))},ge=function(e,t){L(t),V(e)},ve=function(e,t){(e&&(ce("1px solid #ced4da"),R("")),t)&&(K(""),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:none}")},ye=function(){ve(!0,!0),ge("empty","var(--empty-color)"),$("")},Ne=function(e,t,a){be(e),ie(t),p(e),y(t),E(a);fetch("/api/grades/".concat(a,"/cameras"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e)}))},Ce=function(e){document.getElementById(e).click()},we=function(){je===Object.keys(fe).length&&me===Object.keys(pe).length&&(je=0,me=0,Ce("close-modify"),fe={},pe={},Oe(),Ne(f,v,_),w.b.success("Vous venez de modifier les actions des cam\xe9ras du grade "+v+" !",ue))};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"row justify-content-center",children:[Object(x.jsxs)("div",{id:"desription-page",className:"row col-11 col-sm-10 col-md-9 col-lg-7",children:[Object(x.jsx)("div",{id:"title-description",className:"col-12",children:"Grades"}),Object(x.jsxs)("div",{id:"description",className:"col-12",children:["Cette page vous permet de cr\xe9er des grades, ",Object(x.jsx)("br",{})," ainsi que de voir les d\xe9tails de ces ",Object(x.jsx)("br",{})," derniers !"]})]}),a&&a.map((function(e){return Object(x.jsx)("div",{className:"col-12",onClick:function(){return Ne(e.color,e.name_grade,e.id_grade)},children:Object(x.jsx)(S,{name:e.name_grade,color:e.color,members:e.members,allowed_camera:e.allowedcamera,refused_camera:e.refusedcamera},"prop-".concat(e.id_grade))})})),Object(x.jsx)("div",{id:"layout-add",className:"row p-1 text-center justify-content-center col-12",children:Object(x.jsx)("span",{title:"Cr\xe9er un grade","data-toggle":"tooltip","data-placement":"top",children:Object(x.jsx)("i",{type:"button",className:"p-0 bi bi-plus-circle-fill add-user col-1","data-bs-toggle":"modal","data-bs-target":"#addGradeModal"})})})]}),Object(x.jsx)(F,{informationsCameras:r,colorModalDetails:de,titleModalDetails:se,activateButton:Ce,resetModal:function(){for(var e in r)r[e].id_camera in fe?document.getElementsByClassName("action-"+_+"-"+r[e].id_camera)[0].checked=fe[e]:document.getElementsByClassName("action-"+_+"-"+r[e].id_camera)[0].checked=r[e].allowed,r[e].id_camera in pe?document.getElementById("notification-"+_+"-"+r[e].id_camera).className=pe[e]?"bi bi-bell-fill":"bi bi-bell-slash-fill":document.getElementById("notification-"+_+"-"+r[e].id_camera).className=r[e].notification?"bi bi-bell-fill":"bi bi-bell-slash-fill"}}),Object(x.jsx)(T,{nameGrade:Z,borderGrade:ae,colorGrade:z,idColorGrade:q,colors:j,errorName:H,errorColor:X,setNameGrade:$,resetCreation:ye,createGrade:function(){var e=Z,t=q,c=!1,n=!1;(""===e?(ce("1px solid var(--error)"),R("Veuillez choisir un nom")):-1!==a.map((function(e){return e.name_grade})).indexOf(e)?(ce("1px solid var(--error)"),R("Ce nom existe d\xe9j\xe0")):(ve(!0,!1),c=!0),"empty"===t)?(K("Veuillez choisir une couleur"),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:1px solid red}"):(ve(!1,!0),n=!0);n&&c&&(ve(!0,!0),fetch("/api/grades",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,idcolor:t})}).then((function(e){return e.json()})).then((function(t){ye(),document.getElementById("cancel-creation").click(),"ok"===t.message?(Oe(),xe(),w.b.success("Vous venez de cr\xe9er le grade "+e+" !",ue)):w.b.error(he,ue)})))},chooseColor:ge}),Object(x.jsx)(M,{currentColor:f,currentIdGrade:_,currentGrade:v,informationsCameras:r,saveAction:function(){for(var e in fe){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera:e,action:fe[e]})};fetch("/api/grades/".concat(_,"/action"),t).then((function(e){return e.json()})).then((function(e){1===e.count?(je++,we()):w.b.error(he,ue)}))}for(var a in pe){var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera:a,notification:pe[a]})};fetch("/api/grades/".concat(_,"/notification"),c).then((function(e){return e.json()})).then((function(e){1===e.count?(me++,we()):w.b.error(he,ue)}))}},newNotifications:pe,newActions:fe,activateButton:Ce}),Object(x.jsx)(A,{activateButton:Ce,deleteModification:function(){Ce("close-cancel"),Ce("open-desc-grade-2"),fe={},pe={}}}),Object(x.jsx)(w.a,{style:{fontSize:"0.6rem"}})]})};a(336);var L=function(){var e=Object(c.useState)("http://0.0.0.0:6060/video"),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(!1),s=Object(i.a)(o,2),r=(s[0],s[1],Object(c.useState)(null)),l=Object(i.a)(r,2),d=l[0],b=l[1],j=Object(c.useState)(null),m=Object(i.a)(j,2),u=m[0],h=m[1],f={autoClose:5e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,theme:"colored"};function p(){console.log("up"),fetch("http://0.0.0.0:6060/up",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("http://0.0.0.0:6060/video")}))}function O(){console.log("\xe9teindre"),fetch("http://0.0.0.0:6060/shutdown",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("camera-disconnected.png")}))}function g(e){document.getElementById(e).checked?p():O()}return Object(c.useEffect)((function(){fetch("/api/cameras",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json()})).then((function(e){b(e)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{class:"row align-items-center",children:Object(x.jsxs)("div",{class:"m-auto px-2",children:[Object(x.jsx)("h1",{children:"test"}),Object(x.jsxs)("section",{class:"streaming",children:[Object(x.jsx)("h3",{children:"Camera"}),Object(x.jsx)("div",{id:"changement",children:Object(x.jsx)("img",{id:"test",alt:"video surveillance",src:a,width:"640",height:"480"})})]}),Object(x.jsx)("button",{class:"btn btn-primary m-5",type:"button",onClick:function(){console.log("capture"),fetch("http://0.0.0.0:6060/photo",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){fetch("/api/pictureScreenshoot",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h(e.picture);var t=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{class:"layout-screenshot","data-bs-toggle":"modal","data-bs-target":"#openscreenshotmodal",src:"image-client/".concat(e.picture),alt:"video surveillance",width:"100",height:"auto"})})};w.b.info(Object(x.jsx)(t,{}),f)}))}))},children:"prend photo"}),Object(x.jsx)("button",{class:"btn btn-primary m-5",onClick:p,type:"button",name:"start",value:"Eteindre",children:"up"}),Object(x.jsx)("button",{class:"btn btn-primary m-5",onClick:O,type:"button",name:"stop",value:"Eteindre",children:"\xc9teindre"}),d&&d.map((function(e){return Object(x.jsxs)("div",{class:"form-check form-switch",children:["ON"===e.name_status?Object(x.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,defaultChecked:!0,onClick:function(){return g(e.id_camera)}}):"OFF"===e.name_status?Object(x.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,onClick:function(){return g(e.id_camera)}}):Object(x.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,disabled:!0}),Object(x.jsx)("label",{class:"form-check-label",for:e.id_camera,children:e.name_camera})]})}))]})}),Object(x.jsx)(w.a,{style:{fontSize:"0.6rem"}}),Object(x.jsx)("div",{id:"openscreenshotmodal",className:"modal fade","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable",children:Object(x.jsx)("div",{className:"modal-content",children:Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsx)("img",{class:"modal-screenshot",src:"image-client/".concat(u),alt:"video surveillance",width:"100%",height:"100%"})})})})})]})},B=a(42),P=(a(337),a(338),function(e){var t=e.nom,a=e.status,c=e.id;return Object(x.jsx)("div",{className:"col-2 col-md-2 col-sm-2 offset-4 offset-md-5 offset-sm-4 offset-lg-7 switchcam",children:Object(x.jsxs)("div",{className:"toggle-switch",children:[1===a?Object(x.jsx)("input",{type:"checkbox",className:"checkbox",id:c,defaultChecked:!0}):2===a?Object(x.jsx)("input",{type:"checkbox",className:"checkbox",id:c}):Object(x.jsx)("input",{type:"checkbox",className:"checkbox",id:t,disabled:!0,style:{backgroundColor:"grey"}}),Object(x.jsxs)("label",{className:"label",htmlFor:t,children:[Object(x.jsx)("span",{className:"inner"}),Object(x.jsx)("span",{className:"switch"})]})]})})});var q=function(){return Object(x.jsx)("div",{class:"modal fade",id:"ModalTarget","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(x.jsx)("div",{class:"modal-dialog",children:Object(x.jsxs)("div",{class:"modal-content",children:[Object(x.jsxs)("div",{class:"modal-header",children:[Object(x.jsx)("h5",{style:{color:"grey"},class:"modal-title",id:"staticBackdropLabel",children:"__Live__"}),Object(x.jsx)("button",{type:"button",class:" btn-secondary btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(x.jsx)("div",{class:"modal-body",children:Object(x.jsx)("img",{className:"img-thumbnail",alt:"visu_live",src:"http://0.0.0.0:6060/video",width:"440",height:"300",title:"Foscam FI8905W"})}),Object(x.jsxs)("div",{class:"modal-footer justify-content-center",children:[Object(x.jsx)("button",{type:"button",className:" col-3 btn btn-secondary",children:Object(x.jsx)("i",{className:"bi bi-camera-reels"})}),Object(x.jsx)("button",{type:"button",className:" col-3 btn btn-secondary",children:Object(x.jsx)("i",{className:"bi bi-camera"})})]})]})})})};var V=function(e){var t,a=e.idCam,c=e.nomCam,n=e.statusCam,o=e.nomStatus;return Object(x.jsx)("div",{children:1===n?Object(x.jsxs)("div",(t={"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Cliquez pour visionner le live",className:"row col-11 col-sm-9 col-md-7 col-lg-8 offset-sm-3 offset-md-4 offset-1 offset-lg-3 cadreBouton ".concat(o)},Object(B.a)(t,"data-bs-toggle","modal"),Object(B.a)(t,"data-bs-target","#ModalTarget"),Object(B.a)(t,"children",[Object(x.jsx)("div",{className:"col-1 col-md-1 col-sm-2",children:Object(x.jsx)("i",{class:"bi bi-camera-video"})}),Object(x.jsx)("div",{className:"col-3 col-sm-2 col-md-2 offset",children:c}),Object(x.jsx)(P,{nom:c,status:n,id:a}),Object(x.jsx)(q,{idName:o})]),t)):Object(x.jsxs)("div",{className:"row col-11 col-sm-9 col-md-7 col-lg-8 offset-sm-3 offset-md-4 offset-1 offset-lg-3 cadreBouton ".concat(o),children:[Object(x.jsx)("div",{className:"col-1 col-md-1 col-sm-2",children:Object(x.jsx)("i",{class:"bi bi-camera-video-off"})}),Object(x.jsx)("div",{className:"col-3 col-sm-2 col-md-2 offset",children:c}),Object(x.jsx)(P,{nom:c,status:n,id:a})]})})};a(339);var D=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){fetch("/api/camera",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return console.log(e),e.json()})).then((function(e){n(e)}))}),[]),Object(x.jsxs)("div",{className:"cam2",children:[Object(x.jsx)("div",{className:"titre offset-lg-5 offset-md-4 offset-sm-4 offset-2",children:"Page de gestion des cam\xe9ras"}),Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("div",{className:"row",children:a&&a.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(V,{nomCam:e.name_camera,statusCam:e.id_status,idCam:e.id_camera,nomStatus:e.name_status})})}))})})]})};a(340);var U,H=function(){f.a.defaults.withCredentials=!0;var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),l=s[0],d=s[1],b=Object(c.useState)(""),j=Object(i.a)(b,2),m=j[0],u=j[1],h=Object(c.useState)([]),p=Object(i.a)(h,2),O=p[0],v=p[1];Object(c.useEffect)((function(){N()}),[]);var N=function(){f.a.get("/api/gradesInfos").then((function(e){v(e.data)})).then((function(){}))};return Object(x.jsx)("div",{className:"secretary-page",children:Object(x.jsx)("div",{id:"layout-user",children:Object(x.jsxs)(r.a,{trigger:Object(x.jsx)("button",{className:"add-user",children:"Ajouter utilisateur (+)"}),position:"center",modal:!0,nested:!0,children:[Object(x.jsx)("h1",{children:"Nouvel utilisateur:"}),Object(x.jsxs)("form",{onSubmit:function(){console.log("client : ",m),f.a.put("/api/client",{FirstName:a,LastName:l,Grade:m}).then((function(e){e&&window.alert("Client d\xe9j\xe0 enregistr\xe9")}))},children:[Object(x.jsx)("label",{for:"f-name",children:"Pr\xe9nom:"}),Object(x.jsx)("br",{}),Object(x.jsx)(y,{name:"f-name",idName:"f-name",max:"50",min:"1",type:"texte",placeholder:"Pr\xe9nom",setFunc:n}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{for:"l-name",children:"Nom:"}),Object(x.jsx)("br",{}),Object(x.jsx)(y,{name:"l-name",idName:"l-name",max:"50",min:"1",type:"texte",placeholder:"Nom",setFunc:d}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{for:"grade",children:"Grade:"}),Object(x.jsx)("br",{}),Object(x.jsx)("select",{onChange:function(e){u(e.target.value)},name:"grade",children:O.map((function(e){return Object(x.jsxs)("option",{value:e.id_grade,children:[e.id_grade+". ",e.name_grade]})}))}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",children:"Envoyer"}),Object(x.jsx)(g,{})]})]})})})},R=a(101),J=a(12),W=a(126),X=a.n(W),K=a(182),Q=a(183),Y=a(191),Z=(a(342),a(78)),$=a(184),ee=a(185).a.div(U||(U=Object(Q.a)(["\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  margin: 0px;\n  border-radius: 50%;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n"]))),te={autoClose:4e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"};var ae=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=(t[1],Object(c.useState)("")),o=Object(i.a)(n,2),s=(o[0],o[1]),r=Object(c.useState)(""),l=Object(i.a)(r,2),d=(l[0],l[1]),b=[],j=Object(c.useState)(""),m=Object(i.a)(j,2),u=m[0],h=m[1],f=Object(c.useState)([]),p=Object(i.a)(f,2),O=p[0],g=p[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),N=y[0],C=y[1],S=Object(c.useState)(null),k=Object(i.a)(S,2),_=(k[0],k[1]),T=Object(c.useState)(null),E=Object(i.a)(T,2),G=E[0],M=E[1],A=Object(c.useState)(""),I=Object(i.a)(A,2),F=I[0],z=I[1],L=Object(c.useState)(""),B=Object(i.a)(L,2),P=B[0],q=B[1],V=Object(c.useState)(""),D=Object(i.a)(V,2),U=(D[0],D[1]),H=Object(c.useState)(0),R=Object(i.a)(H,2),J=R[0],W=R[1],Q=Object(c.useState)(""),ae=Object(i.a)(Q,2),ce=ae[0],ne=ae[1],oe=Object(c.useState)(null),se=Object(i.a)(oe,2),ie=se[0],re=se[1],le=function(e){fetch("/api/membres/".concat(e,"/grade"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){q(e[0].name_grade),z(e[0].color),U(e.id_grade),_(!0)}))},de=function(e){console.log(e);fetch("/api/membres/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0].first_name.replaceAll("\\s+",""),a=e[0].last_name.replaceAll("\\s+",""),c=t.replace(/\s+/g,"")+" "+a.replace(/\s+/g,"");c.replace(/\s+/g,""),s(t),d(a),h(c),_(!0)}))},be={},je=function(e){fetch("/api/membres/".concat(e,"/photos/count"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){M(e[0].count),_(!0)}))},me=function(e){fetch("/api/membres/".concat(e,"/photos"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t in g(e),e)b.push(e[t].pictures),C(e[0].pictures);_(!0)})),C(b[0])},ue=Object(x.jsx)(Z.a,{id:"popover-basic",children:Object(x.jsx)(Z.a.Body,{id:"popover-test",children:Object(x.jsx)("div",{class:"row",children:O.map((function(e){return Object(x.jsxs)("div",{class:" test col",children:[Object(x.jsx)("i",{class:"bi bi-x-circle-fill pr-2 mb-3",onClick:function(){return function(e){console.log(e),fetch("/api/membres/".concat(ce,"/eliminate/photo"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e})}).then((function(e){console.log(e),200===e.status?(w.b.success("Vous venez d'effacer la photo",te),me(ce),je(ce)):w.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))}(e.pictures)}}),Object(x.jsx)("img",{class:"img-thumbnail h-50",src:e.pictures,alt:""})]})}))})})}),he=function(){var e=Object(K.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(t),de(t),le(t),me(t),je(t),fetch("/api/grades",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){re(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w.a,{style:{fontSize:"0.6rem"}}),Object(x.jsx)("button",{type:"button",onClick:function(){he(1)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 1"}),Object(x.jsx)("button",{type:"button",onClick:function(){return he(2)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 2"}),Object(x.jsx)("button",{type:"button",onClick:function(){return he(3)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 3"}),Object(x.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(x.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(x.jsxs)("div",{class:"modal-content",style:{backgroundColor:F},children:[Object(x.jsxs)("div",{class:"modal-body",children:[Object(x.jsx)("div",{class:"hovereffect",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col",children:Object(x.jsxs)(ee,{children:[Object(x.jsx)("img",{src:N,alt:""}),Object(x.jsx)(Y.a,{trigger:"click",placement:"right",overlay:ue,children:Object(x.jsx)("span",{className:"badge nineplus",children:G})})]})}),Object(x.jsx)("div",{class:"col"})]})}),Object(x.jsx)("div",{class:"tool",children:0===J?Object(x.jsxs)("p",{class:"affiche",children:[" ",P.toUpperCase()," ",Object(x.jsx)("i",{onClick:function(){W(1),ie.map((function(e){return be[e.name_grade]=e.color.replace(/\s+/g,"")})),P in be&&delete be[P]},className:"bi bi-pencil-square",style:{color:"white",background:F,backgroundSize:"10px",fontSize:"80%",textAlign:"right",paddingRight:"10px ",paddingLeft:"4px"}})]}):ie.map((function(e){return e.name_grade!==P?Object(x.jsx)("i",{onClick:function(){var t;t=e.id_grade,fetch("/api/membres/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userNow:ce})}).then((function(e){console.log(e),200===e.status?w.b.success("Vous venez de modifier le grade de l'utilisateur",te):w.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")})),he(ce),W(0)},className:"bi bi-person-square",style:{color:e.color,border:"10px black",fontSize:"100%",background:F,textAlign:"right",paddingRight:"20px"}},e.name_grade):""}))})]}),Object(x.jsx)("div",{class:"col-12",children:Object(x.jsx)($.a,{value:u,type:"text",onSave:function(e){var t=e.split(/(\s+)/).filter((function(e){return e.trim().length>0})),a=t[0],c=t[1];fetch("/api/membres/".concat(ce,"/update"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,surname:c})}).then((function(e){console.log(e),200===e.status?w.b.success("Vous venez de modifier le nom et pr\xe9nom de cet utilisateur",te):w.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))},editing:a,buttonsAlign:"before"})})]})})})]})};var ce=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),r=s[0],l=s[1],d=Object(c.useState)(0),b=Object(i.a)(d,2);return b[0],b[1],Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Nom d'utilisateuuuuuuuur"}),Object(x.jsx)("input",{type:"text",placeholder:"toto",value:a,onChange:function(e){return n(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(x.jsx)("input",{type:"password",placeholder:"",value:r,onChange:function(e){return l(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(x.jsx)("button",{onClick:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:r})};fetch("/api/login",e).then((function(e){return e.json()})).then((function(e){console.log(e.value),e.value&&(localStorage.setItem("access_token",e.value),null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")&&window.location.replace("/home"))}))},class:"btn btn-primary",children:"Connecter"}),Object(x.jsx)("br",{})]})})})};function ne(){return null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")}var oe=a(5),se=a(25),ie=["component"],re=function(e){var t=e.component,a=Object(se.a)(e,ie);return Object(x.jsx)(J.b,Object(oe.a)(Object(oe.a)({},a),{},{render:function(e){return ne()?Object(x.jsx)(t,Object(oe.a)({},e)):Object(x.jsx)(J.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};a(177);function le(e){var t=e.href,a=e.text,c=e.icon;return Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)("a",{href:t,className:"nav-link-main",children:[Object(x.jsx)("i",{class:"bi ".concat(c," m-4"),style:{fontSize:"2rem"}}),Object(x.jsx)("span",{className:"link-text",style:{fontWeight:"500"},children:a})]})})}le.defaultProps={href:"home",dataIcon:"house",text:"Accueil",d:"M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z",className:"fa-house",viewBox:"0 0 576 512"};var de=le;var be=function(){return Object(x.jsx)("nav",{className:"navbar-main",children:Object(x.jsxs)("ul",{className:"navbar-nav",children:[Object(x.jsx)(de,{href:"home",text:"ACCUEIL",icon:"bi-house",style:{fontSize:"2rem"}}),Object(x.jsx)(de,{href:"cameras",text:"CAM\xc9RAS",icon:"bi-camera-video",style:{fontSize:"2rem"}}),Object(x.jsx)(de,{href:"grades",text:"GRADES",icon:"bi-diagram-3",style:{fontSize:"2rem"}}),Object(x.jsx)(de,{href:"members",text:"MEMBRES",icon:"bi-people",style:{fontSize:"2rem"}}),Object(x.jsx)(de,{href:"pictures",text:"GALERIE",icon:"bi-images",style:{fontSize:"2rem"}}),Object(x.jsx)(de,{href:"settings",text:"PARAMETRES",icon:"bi-gear",style:{fontSize:"2rem"}})]})})};var je=function(){return ne()?Object(x.jsx)(R.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(be,{}),Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)(J.d,{children:[Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:z,path:"/grades"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:L,path:"/camera"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/accueil"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:H,path:"/secretary"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:N,path:"/members"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/home"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),path:"/modification",component:ae}),Object(x.jsx)(J.b,{path:"/login",exact:!0,component:ce})]})})]})}):Object(x.jsx)(R.a,{children:Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)(J.d,{children:[Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:z,path:"/grades"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:L,path:"/camera"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/accueil"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:H,path:"/secretary"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:N,path:"/members"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/home"}),Object(x.jsx)(re,{exact:!0,isloggedin:ne(),path:"/modification",component:ae}),Object(x.jsx)(J.b,{path:"/login",exact:!0,component:ce})]})})})})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,355)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),o(e),s(e)}))};s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(je,{})}),document.getElementById("root")),me()},37:function(e,t,a){}},[[349,1,2]]]);
//# sourceMappingURL=main.0dfb954d.chunk.js.map