(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{129:function(e,t,c){},175:function(e,t,c){},195:function(e,t,c){},336:function(e,t,c){},337:function(e,t,c){},338:function(e,t,c){},339:function(e,t,c){},341:function(e,t,c){},348:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),o=c(26),s=c.n(o),l=(c(195),c(129),c(6)),r=(c(71),c(31),c(42),c(72),c(49),c(54),c(176)),i=(c(209),c(16)),d=c(10),b=c(14),m=c(69),u=c(21),j=c(20),h=c(76),f=c.n(h),p=f.a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,[{key:"upload",value:function(e,t){var c=new FormData;return c.append("file",e),p.post("/upload",c,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return p.get("/files")}}]),e}()),g=c(1),x=function(e){Object(u.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(d.a)(this,c),(a=t.call(this,e)).selectFiles=a.selectFiles.bind(Object(m.a)(a)),a.upload=a.upload.bind(Object(m.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(m.a)(a)),a.previewImages=[],a.state={selectedFiles:void 0,progressInfos:[],message:[],fileInfos:[]},a}return Object(b.a)(c,[{key:"componentDidMount",value:function(){var e=this;O.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"selectFiles",value:function(e){this.setState({progressInfos:[],selectedFiles:e.target.files})}},{key:"upload",value:function(e,t){var c=this,a=Object(i.a)(this.state.progressInfos);O.upload(t,(function(t){a[e].percentage=Math.round(100*t.loaded/t.total),c.setState({_progressInfos:a})})).then((function(e){return c.setState((function(e){return{message:[].concat(Object(i.a)(e.message),["Uploaded the file successfully: "+t.name])}})),O.getFiles()})).then((function(e){c.setState({fileInfos:e.data})})).catch((function(){a[e].percentage=0,c.setState((function(e){var c=[].concat(Object(i.a)(e.message),["Could not upload the file: "+t.name]);return{progressInfos:a,message:c}}))}))}},{key:"uploadFiles",value:function(e){var t=this;e.preventDefault();for(var c=this.state.selectedFiles,a=[],n=0;n<c.length;n++)a.push({percentage:0,fileName:c[n].name});this.setState({progressInfos:a,message:[]},(function(){for(var e=0;e<c.length;e++)t.upload(e,c[e])}))}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,c=(e.previewImages,e.progressInfos),a=e.message;e.fileInfos;return Object(g.jsxs)("div",{children:[c&&c.map((function(e,t){return Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{children:e.fileName}),Object(g.jsx)("div",{className:"progress",children:Object(g.jsxs)("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.percentage+"%"},children:[e.percentage,"%"]})})]},t)})),Object(g.jsxs)("div",{className:"row my-3",children:[Object(g.jsx)("div",{className:"col-8",children:Object(g.jsx)("label",{className:"btn btn-default p-0",children:Object(g.jsx)("input",{type:"file",multiple:!0,onChange:this.selectFiles})})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("button",{className:"btn btn-success btn-sm",disabled:!t,onClick:this.uploadFiles,type:"submit",children:"Enregistrer"})})]}),a.length>0&&Object(g.jsx)("div",{className:"alert alert-secondary",role:"alert",children:Object(g.jsx)("ul",{children:a.map((function(e,t){return Object(g.jsx)("li",{children:e},t)}))})})]})}}]),c}(a.Component),v=function(e){var t=e.type,c=e.name,a=e.min,n=e.max,o=e.placeholder,s=e.setFunc,l=e.pattern,r=e.title,i=e.step,d=e.idName;return Object(g.jsx)("input",{className:"input_modif",id:d,step:i,pattern:l,required:!0,title:r,type:t,name:c,minLength:a,maxLength:n,placeholder:o,onChange:function(e){s(e.target.value)}})};v.defaultProps={type:"text",min:4,max:10,placeholder:"texte"};var y=v,N=c(48),C=c(9);function w(){f.a.defaults.withCredentials=!0;var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),i=s[0],d=s[1],b=Object(a.useState)(1),m=Object(l.a)(b,2),u=m[0],j=m[1],h=Object(a.useState)([]),p=Object(l.a)(h,2),O=p[0],v=p[1],w=Object(a.useState)([]),k=Object(l.a)(w,2),S=k[0],_=k[1],E=Object(a.useState)(""),T=Object(l.a)(E,2),A=T[0],G=T[1],I=Object(a.useState)("Tous"),M=Object(l.a)(I,2),z=M[0],F=M[1],B={autoClose:5e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"};Object(a.useEffect)((function(){P(),L(),Array.from(document.querySelectorAll(".toast")).forEach((function(e){return new N.b(e)}))}),[]);var L=function(){fetch("/api/members",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){_(e)}))},P=function(){fetch("/api/gradesInfos",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){v(e)}))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"rounded row mt-2 justify-content-center",children:[Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{style:{border:"1px solid grey"},type:"text",onChange:function(e){G(e.target.value)},placeholder:"chercher"})}),Object(g.jsxs)("select",{onChange:function(e){return F(e.target.value)},style:{width:"20%"},className:"form-select form-select-sm","aria-label":"Default select example",children:[Object(g.jsx)("option",{children:"Tous"}),O.map((function(e){return Object(g.jsx)("option",{children:e.name_grade})}))]})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"row offset-1 justify-content-center",children:[Object(g.jsxs)(r.a,{trigger:Object(g.jsx)("button",{style:{backgroundColor:"#c6e5c3",border:"1px solid lightgrey"},className:"rounded col-sm-3 col-lg-3 mt-4 mb-5",children:"Ajouter utilisateur (+)"}),position:"center",modal:!0,nested:!0,children:[Object(g.jsx)("h1",{children:"Nouvel utilisateur:"}),Object(g.jsxs)("form",{onSubmit:function(e){f.a.put("/api/client",{FirstName:c,LastName:i,Grade:u}).then((function(){L()}))},children:[Object(g.jsx)("label",{for:"f-name",children:"Pr\xe9nom:"}),Object(g.jsx)("br",{}),Object(g.jsx)(y,{name:"f-name",idName:"f-name",max:"50",min:"1",type:"texte",placeholder:"Pr\xe9nom",setFunc:n}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{for:"l-name",children:"Nom:"}),Object(g.jsx)("br",{}),Object(g.jsx)(y,{name:"l-name",idName:"l-name",max:"50",min:"1",type:"texte",placeholder:"Nom",setFunc:d}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{for:"grade",children:"Grade:"}),Object(g.jsx)("br",{}),Object(g.jsx)("select",{required:!0,onChange:function(e){j(e.target.value)},name:"grade",children:O.map((function(e){return Object(g.jsxs)("option",{value:e.id_grade,children:[e.id_grade+". ",e.name_grade]})}))}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{type:"submit",children:"Envoyer"}),Object(g.jsx)(x,{})]})]}),S.filter((function(e){return e.first_name.includes(A)})).filter("Tous"!==z?function(e){return e.name_grade===z}:function(e){return e.name_grade.includes("")}).map((function(e){return Object(g.jsx)("div",{className:"rounded col-sm-5 col-lg-3 p-4 mx-1 mb-3 ",children:Object(g.jsxs)("div",{className:"row rounded",children:[Object(g.jsx)("div",{style:{backgroundColor:e.color,fontSize:"0.7rem"},className:"col-6",children:e.name_grade}),Object(g.jsx)("div",{style:{backgroundColor:e.color},className:"col-6",children:Object(g.jsx)("button",{className:"p-2 btn-close btn-close-grey float-end",id:e.id_member,onClick:function(t){var c;window.confirm("Voulez vous vraiment supprimer "+e.last_name+"?")&&(c=t.target.id,fetch("/api/members/".concat(c),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?(console.log(e),P(),L(),C.b.success("Suppression r\xe9ussie",B)):C.b.error("Suppression \xe9chou\xe9e",B)})))}})}),Object(g.jsxs)("div",{style:{backgroundColor:"#ebebeb"},className:"rounded col-12",children:[Object(g.jsx)("div",{class:"col-md-4 text-align",children:Object(g.jsx)("img",{src:"https://as2.ftcdn.net/v2/jpg/03/32/59/65/1000_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",class:"img-fluid rounded-start",alt:"profile-pic"})}),e.first_name," ",e.last_name]})]})})}))]}),Object(g.jsx)(C.a,{style:{fontSize:"0.6rem"}})]})]})}c(38);var k=function(e){var t=e.name,c=e.color,a=e.members,n=e.allowed_camera,o=e.refused_camera;return Object(g.jsx)("div",{className:"row p-1 justify-content-center card-grade",children:Object(g.jsxs)("div",{type:"button",className:"p-1 bg-light shadow-sm rounded row col-10 col-md-9 col-lg-7 col-xl-6","data-bs-toggle":"modal","data-bs-target":"#gradeModal",children:[Object(g.jsx)("div",{className:"rounded bg-person col-12 col-sm-3",style:{backgroundColor:c},children:Object(g.jsx)("i",{className:"bi bi-people icon-person"})}),Object(g.jsx)("div",{className:"align-self-center name-grade col-8 col-sm-6",children:t}),Object(g.jsxs)("div",{className:"layout-nbr-camera p-0 col align-self-end row col-4 col-sm-3",children:[Object(g.jsxs)("div",{className:"p-0 informations col-6",children:[n," ",Object(g.jsx)("i",{className:"bi bi-camera-video-fill allowed-camera"})]}),Object(g.jsxs)("div",{className:"p-0 informations col-6",children:[o," ",Object(g.jsx)("i",{className:"bi bi-camera-video-fill refused-camera"})]}),Object(g.jsxs)("div",{className:"p-0 informations col-12",children:[a," ",a>1?"membres":"membre"]})]})]})})},S=c(189),_=function(e){var t=e.nameGrade,c=e.borderGrade,n=e.colorGrade,o=e.idColorGrade,s=e.colors,r=e.errorName,i=e.errorColor,d=e.setNameGrade,b=e.resetCreation,m=e.createGrade,u=e.chooseColor,j=Object(a.useState)("red"),h=Object(l.a)(j,2),f=h[0],p=h[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),v=x[0],y=x[1];return Object(g.jsx)("div",{id:"addGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addGradeModalLabel","aria-hidden":"true",children:Object(g.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)("div",{className:"modal-header row",children:Object(g.jsx)("h5",{className:"modal-title p-1 col-sm-8 offset-sm-2",id:"addGradeModalLabel",children:"Ajouter un grade"})}),Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-12 col-md-6 order-1",children:[Object(g.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(g.jsx)("label",{id:"name-grade-label",className:"col-form-label",for:"name-grade",children:"Nom"})}),Object(g.jsx)("div",{id:"frame-name-grade-input",className:"p-0 m-1 col-10",children:Object(g.jsx)("input",{type:"text",id:"name-grade",className:" form-control",maxlength:"10",value:t,style:{border:c},onChange:function(e){d(e.target.value)}})})]}),Object(g.jsxs)("div",{className:"col-12 col-md-6 order-3 order-md-2",children:[Object(g.jsx)("div",{className:"frame-grade-label p-0 m-1 col-11",children:Object(g.jsx)("label",{id:"color-grade-label",for:"color-grade",className:"col-form-label",children:"Couleur"})}),Object(g.jsxs)("div",{id:"frame-colors",className:"row p-0 m-0 rounded col-11",children:[Object(g.jsx)("div",{className:"container-final-color col-12",children:Object(g.jsx)("i",{id:o,className:"bi bi-square-fill final-color",style:{color:n,fontSize:"175%"}})}),s&&s.map((function(e){return Object(g.jsx)("div",{className:"container-choosing-color col-1",children:Object(g.jsx)("i",{type:"button",id:"little-square-".concat(e.id_color),className:"bi bi-square-fill ".concat(e.id_color),style:{color:e.name_color},onClick:function(){!function(e){document.head.appendChild(document.createElement("style")).innerHTML="#little-square-".concat(e,":before {border:1px solid var(--frame-choice-color); border-radius:4px;}");var t=document.head.appendChild(document.createElement("style")),c=o;t.innerHTML="#little-square-".concat(c,":before {border:none;}")}(e.id_color),u(e.id_color,e.name_color)}})})})),Object(g.jsxs)("div",{className:"container-choosing-color col-1",children:[Object(g.jsx)("i",{type:"button",className:"bi bi-plus-square square-selection",style:{color:f},onClick:function(){return y((function(e){return!e}))}}),v&&Object(g.jsx)(S.a,{color:f,onChange:function(e){return p(e.hex)}})]})]})]}),Object(g.jsx)("div",{id:"error-name",className:"errorMessage col-12 col-md-6 order-2 order-md-3",children:r}),Object(g.jsx)("div",{id:"error-color",className:"errorMessage col-12 col-md-6 order-4",children:i})]})})}),Object(g.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(g.jsx)("button",{type:"button",id:"cancel-creation",className:"btn modal-button bouton-close col-11 col-sm-5","data-bs-dismiss":"modal",onClick:b,children:"Annuler "}),Object(g.jsx)("button",{type:"button",className:"btn modal-button bouton-action col-11 col-sm-5",onClick:function(){return m()},children:"Cr\xe9er "})]})]})})})},E=function(e){var t=e.name_camera,c=e.id_camera,a=e.notification,n=e.changeAction,o=e.changeNotification,s=e.allowed,l=e.currentIdGrade;return Object(g.jsxs)("div",{className:"layout-actions-cameras row p-1 m-2 bg-light rounded col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12",children:[Object(g.jsx)("div",{className:"name-camera-grade col-7 col-sm-7 col-md-7 col-lg-7 col-xl-7 col-xxl-7",children:t}),Object(g.jsx)("div",{className:"switch-camera-grade col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3",children:Object(g.jsx)("div",{className:"form-check form-switch",children:s?Object(g.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(l,"-").concat(c),defaultChecked:!0,role:"switch",onChange:function(){return n(c)}}):Object(g.jsx)("input",{type:"checkbox",className:"form-check-input input-switch action-".concat(l,"-").concat(c),role:"switch",onChange:function(){return n(c)}})})}),Object(g.jsx)("div",{className:"rounded col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2",children:Object(g.jsx)("i",{type:"button",id:"notification-".concat(l,"-").concat(c),className:"bi bi-bell-slash-fill",onClick:function(){return o(c,a)}})})]})};E.defaultProps={name_camera:"Chargement",id_camera:"0",notification:!1,changeAction:function(){},changeNotification:function(){},allowed:!1,currentIdGrade:"0"};var T=E,A=function(e){var t=e.bgColor,c=e.text;return Object(g.jsx)("div",{className:"modal-header row justify-content-center",children:Object(g.jsx)("h5",{className:"modal-title test p-1 shadow-sm rounded col-10 col-sm-11 col-lg-9",style:{backgroundColor:t},children:c})})};A.defaultProps={bgColor:"var(--text-loading)",text:"Chargement"};var G=A,I=function(e){var t=e.currentGrade,c=e.currentColor,a=e.informationsCameras,n=e.currentIdGrade,o=e.saveAction,s=e.newNotifications,l=e.newActions,r=e.activateButton,i=function(e,t){e in s?(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-fill":"bi bi-bell-slash-fill",delete s[e]):(document.getElementById("notification-"+n+"-"+e).className=t?"bi bi-bell-slash-fill":"bi bi-bell-fill",s[e]=!t)},d=function(e){var t=document.getElementsByClassName("action-"+n+"-"+e)[0].checked;e in l?delete l[e]:l[e]=t};return Object(g.jsx)("div",{id:"modifyGradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modifyGradeModalLabel","aria-hidden":"true",children:Object(g.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)(G,{id:"gradeModalLabel",bgColor:c,text:t}),Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsxs)("div",{className:"row justify-content-around",children:[Object(g.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:a&&a.filter((function(e){return a.indexOf(e)<a.length/2})).map((function(e){return Object(g.jsx)(T,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:d,changeNotification:i,allowed:e.allowed,currentIdGrade:n})}))}),Object(g.jsx)("div",{className:"row justify-content-center col-11 col-lg-6",children:a&&a.filter((function(e){return a.indexOf(e)>=a.length/2})).map((function(e){return Object(g.jsx)(T,{name_camera:e.name_camera,id_camera:e.id_camera,notification:e.notification,changeAction:d,changeNotification:i,allowed:e.allowed,currentIdGrade:n})}))})]})}),Object(g.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(g.jsx)("button",{type:"button",className:"btn modal-button bouton-close col-11 col-sm-5",onClick:function(){return r("close-modify"),void(Object.keys(l).length>0||Object.keys(s).length>0?r("open-confirmation"):r("open-desc-grade-1"))},children:"Annuler"}),Object(g.jsx)("button",{type:"button",id:"open-desc-grade-1",className:"btn hidden-btn modal-button bouton-close col-11 col-sm-5","data-bs-target":"#gradeModal","data-bs-toggle":"modal",children:"Revenir sur desc grade"}),Object(g.jsx)("button",{type:"button",id:"close-modify",className:"btn hidden-btn modal-button bouton-close col-11 col-sm-5","data-bs-dismiss":"modal","aria-label":"Close",children:"Fermer"}),Object(g.jsx)("button",{type:"button",id:"open-confirmation",className:"btn hidden-btn modal-button bouton-close col-11 col-sm-5","data-bs-toggle":"modal","data-bs-target":"#confirmationCancelModal",children:"Cancel"}),Object(g.jsx)("button",{type:"button",className:"btn modal-button bouton-action col-11 col-sm-5",onClick:function(){o()},children:"Enregistrer"})]})]})})})},M=function(e){var t=e.activateButton,c=e.deleteModification;return Object(g.jsx)("div",{id:"confirmationCancelModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"confirmationCancelModalLabel","aria-hidden":"true",children:Object(g.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsxs)("div",{className:"layout-modal-cancel row justify-content-center container",children:[Object(g.jsx)("i",{id:"icon-cancel",className:"bi bi-x-circle"}),Object(g.jsx)("h4",{children:"Voulez-vous vraiment annuler ? "}),Object(g.jsx)("p",{children:"Toutes vos modifications seront perdues."})]})}),Object(g.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(g.jsx)("button",{type:"button",className:"btn modal-button bouton-close col-11 col-sm-5",onClick:function(){t("close-cancel"),t("open-modify-grade")},children:"Non"}),Object(g.jsx)("button",{type:"button",id:"open-desc-grade-2",className:"btn hidden-btn modal-button bouton-close col-11 col-sm-5","data-bs-target":"#gradeModal","data-bs-toggle":"modal",children:"Revenir desc grades"}),Object(g.jsx)("button",{type:"button",id:"open-modify-grade",className:"btn hidden-btn modal-button bouton-close col-11 col-sm-5","data-bs-target":"#modifyGradeModal","data-bs-toggle":"modal",children:"Revenir modif grades"}),Object(g.jsx)("button",{type:"button",id:"close-cancel",className:"btn hidden-btn modal-button bouton-close col-11 col-sm-5","data-bs-dismiss":"modal","aria-label":"Close",children:"Fermer tout"}),Object(g.jsx)("button",{type:"button",className:"btn modal-button bouton-warning col-11 col-sm-5",onClick:function(){c()},children:"Oui"})]})]})})})},z=function(e){var t=e.name,c=e.allowed,a=e.notification;return Object(g.jsxs)("div",{className:"row align-items-center p-1 m-2 bg-light rounded col-10 col-lg-7",children:[Object(g.jsx)("div",{className:"name-camera-grade col-9",children:t}),Object(g.jsx)("div",{className:"bg-notification rounded col-3 col-lg-2",style:{backgroundColor:c?"var(--camera-allow)":"var(--camera-refuse)"},children:Object(g.jsx)("i",{className:"bi bi-bell icon-notification",style:{color:a?"white":c?"var(--camera-allow)":"var(--camera-refuse)"}})})]})},F=function(e){var t=e.informationsCameras,c=e.colorModalDetails,a=e.titleModalDetails,n=e.activateButton,o=e.resetModal;return Object(g.jsx)("div",{id:"gradeModal",className:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(g.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)(G,{bgColor:c,text:a}),Object(g.jsxs)("div",{className:"modal-body",children:[Object(g.jsx)("div",{className:"row justify-content-center",children:Object(g.jsxs)("div",{className:"layout-legend col-10 col-lg-9",children:[Object(g.jsxs)("div",{className:"col-12",children:[Object(g.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-allow)",fontSize:"0.95rem"}})," : acc\xe8s autoris\xe9s"]}),Object(g.jsxs)("div",{className:"col-12",children:[Object(g.jsx)("i",{className:"bi bi-square-fill",style:{color:"var(--camera-refuse)",fontSize:"0.95rem"}})," : acc\xe8s refus\xe9s"]}),Object(g.jsxs)("div",{className:"col-12",style:{margin:"0.3rem 0rem 0rem 0rem"},children:[Object(g.jsx)("i",{className:"bi bi-bell icon-notification",style:{fontSize:"0.7rem",backgroundColor:"#7a7a7a",color:"white",padding:"0.0375rem 0.15rem 0.0375rem 0.15rem",borderRadius:"4px"}})," : activation d'une alerte de pr\xe9sence"]})]})}),Object(g.jsx)("div",{className:"row justify-content-center",children:t&&t.map((function(e){return Object(g.jsx)(z,{allowed:e.allowed,name:e.name_camera,notification:e.notification},"prop-".concat(e.id_permission))}))})]}),Object(g.jsxs)("div",{className:"modal-footer row justify-content-between",children:[Object(g.jsx)("button",{type:"button",id:"close-informations",className:"btn modal-button bouton-close col-11 col-sm-5","data-bs-dismiss":"modal","aria-label":"Close",children:"Fermer"}),Object(g.jsx)("button",{type:"button",className:"btn modal-button bouton-action col-11 col-sm-5","data-bs-target":"#modifyGradeModal","data-bs-toggle":"modal",onClick:function(){n("close-informations"),o()},children:"Modifier"})]})]})})})};var B=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(null),s=Object(l.a)(o,2),r=s[0],i=s[1],d=Object(a.useState)([]),b=Object(l.a)(d,2),m=b[0],u=b[1],j=Object(a.useState)(""),h=Object(l.a)(j,2),f=h[0],p=h[1],O=Object(a.useState)(""),x=Object(l.a)(O,2),v=x[0],y=x[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),E=S[0],T=S[1],A=Object(a.useState)("var(--empty-color)"),G=Object(l.a)(A,2),z=G[0],B=G[1],L=Object(a.useState)("empty"),P=Object(l.a)(L,2),q=P[0],V=P[1],H=Object(a.useState)(""),U=Object(l.a)(H,2),D=U[0],R=U[1],J=Object(a.useState)(""),W=Object(l.a)(J,2),K=W[0],X=W[1],Q=Object(a.useState)(""),Y=Object(l.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(a.useState)("null"),te=Object(l.a)(ee,2),ce=te[0],ae=te[1],ne=Object(a.useState)("Chargement"),oe=Object(l.a)(ne,2),se=oe[0],le=oe[1],re=Object(a.useState)("var(--text-loading)"),ie=Object(l.a)(re,2),de=ie[0],be=ie[1],me=0,ue=0,je={autoClose:8e3,position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"},he="Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous.",fe={},pe={};Object(a.useEffect)((function(){Array.from(document.querySelectorAll('button[data-bs-toggle="popover"]')).forEach((function(e){return new N.a(e)})),Array.from(document.querySelectorAll(".toast")).forEach((function(e){return new N.b(e)})),Array.from(document.querySelectorAll('button[data-bs-toggle="tooltip"]')).forEach((function(e){return new N.c(e)}))}),[]),Object(a.useEffect)((function(){Oe(),ge()}),[]);var Oe=function(){var e={method:"GET",headers:{"Content-Type":"application/json"}};fetch("/api/grades",e).then((function(e){return e.json()})).then((function(t){fetch("/api/grades/members",e).then((function(e){return e.json()})).then((function(e){t.map((function(t){return t.members=e.filter((function(e){return e.id_grade===t.id_grade}))[0].members})),n(t)}))}))},ge=function(){fetch("/api/grades/colors",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){u(e)}))},xe=function(e,t){B(t),V(e)},ve=function(e,t){(e&&(ae("1px solid #ced4da"),R("")),t)&&(X(""),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:none}")},ye=function(){ve(!0,!0),xe("empty","var(--empty-color)"),$("")},Ne=function(e,t,c){be(e),le(t),p(e),y(t),T(c);fetch("/api/grades/".concat(c,"/cameras"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){i(e)}))},Ce=function(e){document.getElementById(e).click()},we=function(){me===Object.keys(fe).length&&ue===Object.keys(pe).length&&(me=0,ue=0,Ce("close-modify"),fe={},pe={},Oe(),Ne(f,v,E),C.b.success("Vous venez de modifier les actions des cam\xe9ras du grade "+v+" !",je))};return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"row justify-content-center",children:[Object(g.jsxs)("div",{id:"desription-page",className:"row col-11 col-sm-10 col-md-9 col-lg-7",children:[Object(g.jsx)("div",{id:"title-description",className:"col-12",children:"Grades"}),Object(g.jsxs)("div",{id:"description",className:"col-12",children:["Cette page vous permet de cr\xe9er des grades, ",Object(g.jsx)("br",{})," ainsi que de voir les d\xe9tails de ces ",Object(g.jsx)("br",{})," derniers !"]})]}),c&&c.map((function(e){return Object(g.jsx)("div",{className:"col-12",onClick:function(){return Ne(e.color,e.name_grade,e.id_grade)},children:Object(g.jsx)(k,{name:e.name_grade,color:e.color,members:e.members,allowed_camera:e.allowedcamera,refused_camera:e.refusedcamera},"prop-".concat(e.id_grade))})})),Object(g.jsx)("div",{id:"layout-add",className:"row p-1 text-center justify-content-center col-12",children:Object(g.jsx)("span",{title:"Cr\xe9er un grade","data-toggle":"tooltip","data-placement":"top",children:Object(g.jsx)("i",{type:"button",className:"p-0 bi bi-plus-circle-fill add-user col-1","data-bs-toggle":"modal","data-bs-target":"#addGradeModal"})})})]}),Object(g.jsx)(F,{informationsCameras:r,colorModalDetails:de,titleModalDetails:se,activateButton:Ce,resetModal:function(){for(var e in r)r[e].id_camera in fe?document.getElementsByClassName("action-"+E+"-"+r[e].id_camera)[0].checked=fe[e]:document.getElementsByClassName("action-"+E+"-"+r[e].id_camera)[0].checked=r[e].allowed,r[e].id_camera in pe?document.getElementById("notification-"+E+"-"+r[e].id_camera).className=pe[e]?"bi bi-bell-fill":"bi bi-bell-slash-fill":document.getElementById("notification-"+E+"-"+r[e].id_camera).className=r[e].notification?"bi bi-bell-fill":"bi bi-bell-slash-fill"}}),Object(g.jsx)(_,{nameGrade:Z,borderGrade:ce,colorGrade:z,idColorGrade:q,colors:m,errorName:D,errorColor:K,setNameGrade:$,resetCreation:ye,createGrade:function(){var e=Z,t=q,a=!1,n=!1;(""===e?(ae("1px solid var(--error)"),R("Veuillez choisir un nom")):-1!==c.map((function(e){return e.name_grade})).indexOf(e)?(ae("1px solid var(--error)"),R("Ce nom existe d\xe9j\xe0")):(ve(!0,!1),a=!0),"empty"===t)?(X("Veuillez choisir une couleur"),document.head.appendChild(document.createElement("style")).innerHTML="#empty:before {border:1px solid red}"):(ve(!1,!0),n=!0);n&&a&&(ve(!0,!0),fetch("/api/grades",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,idcolor:t})}).then((function(e){return e.json()})).then((function(t){ye(),document.getElementById("cancel-creation").click(),"ok"===t.message?(Oe(),ge(),C.b.success("Vous venez de cr\xe9er le grade "+e+" !",je)):C.b.error(he,je)})))},chooseColor:xe}),Object(g.jsx)(I,{currentColor:f,currentIdGrade:E,currentGrade:v,informationsCameras:r,saveAction:function(){for(var e in fe){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera:e,action:fe[e]})};fetch("/api/grades/".concat(E,"/action"),t).then((function(e){return e.json()})).then((function(e){1===e.count?(me++,we()):C.b.error(he,je)}))}for(var c in pe){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera:c,notification:pe[c]})};fetch("/api/grades/".concat(E,"/notification"),a).then((function(e){return e.json()})).then((function(e){1===e.count?(ue++,we()):C.b.error(he,je)}))}},newNotifications:pe,newActions:fe,activateButton:Ce}),Object(g.jsx)(M,{activateButton:Ce,deleteModification:function(){Ce("close-cancel"),Ce("open-desc-grade-2"),fe={},pe={}}}),Object(g.jsx)(C.a,{style:{fontSize:"0.6rem"}})]})};c(336);var L=function(){var e=Object(a.useState)("http://0.0.0.0:6060/video"),t=Object(l.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(!1),s=Object(l.a)(o,2),r=(s[0],s[1],Object(a.useState)(null)),i=Object(l.a)(r,2),d=i[0],b=i[1],m=Object(a.useState)(null),u=Object(l.a)(m,2),j=u[0],h=u[1],f={autoClose:5e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,theme:"colored"};function p(){console.log("up"),fetch("http://0.0.0.0:6060/up",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("http://0.0.0.0:6060/video")}))}function O(){console.log("\xe9teindre"),fetch("http://0.0.0.0:6060/shutdown",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){n("camera-disconnected.png")}))}function x(e){document.getElementById(e).checked?p():O()}return Object(a.useEffect)((function(){fetch("/api/cameras",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json()})).then((function(e){b(e)}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{class:"row align-items-center",children:Object(g.jsxs)("div",{class:"m-auto px-2",children:[Object(g.jsx)("h1",{children:"test"}),Object(g.jsxs)("section",{class:"streaming",children:[Object(g.jsx)("h3",{children:"Camera"}),Object(g.jsx)("div",{id:"changement",children:Object(g.jsx)("img",{id:"test",alt:"video surveillance",src:c,width:"640",height:"480"})})]}),Object(g.jsx)("button",{class:"btn btn-primary m-5",type:"button",onClick:function(){console.log("capture"),fetch("http://0.0.0.0:6060/photo",{headers:{"Access-Control-Allow-Origin":"*"},mode:"no-cors"}).then((function(e){return e.json})).then((function(e){fetch("/api/pictureScreenshoot",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h(e.picture);var t=function(){return Object(g.jsx)("div",{children:Object(g.jsx)("img",{class:"layout-screenshot","data-bs-toggle":"modal","data-bs-target":"#openscreenshotmodal",src:"image-client/".concat(e.picture),alt:"video surveillance",width:"100",height:"auto"})})};C.b.info(Object(g.jsx)(t,{}),f)}))}))},children:"prend photo"}),Object(g.jsx)("button",{class:"btn btn-primary m-5",onClick:p,type:"button",name:"start",value:"Eteindre",children:"up"}),Object(g.jsx)("button",{class:"btn btn-primary m-5",onClick:O,type:"button",name:"stop",value:"Eteindre",children:"\xc9teindre"}),d&&d.map((function(e){return Object(g.jsxs)("div",{class:"form-check form-switch",children:["ON"===e.name_status?Object(g.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,defaultChecked:!0,onClick:function(){return x(e.id_camera)}}):"OFF"===e.name_status?Object(g.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,onClick:function(){return x(e.id_camera)}}):Object(g.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.id_camera,disabled:!0}),Object(g.jsx)("label",{class:"form-check-label",for:e.id_camera,children:e.name_camera})]})}))]})}),Object(g.jsx)(C.a,{style:{fontSize:"0.6rem"}}),Object(g.jsx)("div",{id:"openscreenshotmodal",className:"modal fade","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gradeModalLabel","aria-hidden":"true",children:Object(g.jsx)("div",{className:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable",children:Object(g.jsx)("div",{className:"modal-content",children:Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsx)("img",{class:"modal-screenshot",src:"image-client/".concat(j),alt:"video surveillance",width:"100%",height:"100%"})})})})})]})},P=c(41),q=(c(337),c(338),function(e){var t=e.nom,c=e.status,a=e.id;return Object(g.jsx)("div",{className:"col-2 col-md-2 col-sm-2 offset-4 offset-md-5 offset-sm-4 offset-lg-7 switchcam",children:Object(g.jsxs)("div",{className:"toggle-switch",children:[1===c?Object(g.jsx)("input",{type:"checkbox",className:"checkbox",id:a,defaultChecked:!0}):2===c?Object(g.jsx)("input",{type:"checkbox",className:"checkbox",id:a}):Object(g.jsx)("input",{type:"checkbox",className:"checkbox",id:t,disabled:!0,style:{backgroundColor:"grey"}}),Object(g.jsxs)("label",{className:"label",htmlFor:t,children:[Object(g.jsx)("span",{className:"inner"}),Object(g.jsx)("span",{className:"switch"})]})]})})});var V=function(){return Object(g.jsx)("div",{class:"modal fade",id:"ModalTarget","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(g.jsx)("div",{class:"modal-dialog",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsx)("h5",{style:{color:"grey"},class:"modal-title",id:"staticBackdropLabel",children:"__Live__"}),Object(g.jsx)("button",{type:"button",class:" btn-secondary btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(g.jsx)("div",{class:"modal-body",children:Object(g.jsx)("img",{className:"img-thumbnail",alt:"visu_live",src:"http://0.0.0.0:6060/video",width:"440",height:"300",title:"Foscam FI8905W"})}),Object(g.jsxs)("div",{class:"modal-footer justify-content-center",children:[Object(g.jsx)("button",{type:"button",className:" col-3 btn btn-secondary",children:Object(g.jsx)("i",{className:"bi bi-camera-reels"})}),Object(g.jsx)("button",{type:"button",className:" col-3 btn btn-secondary",children:Object(g.jsx)("i",{className:"bi bi-camera"})})]})]})})})};var H=function(e){var t,c=e.idCam,a=e.nomCam,n=e.statusCam,o=e.nomStatus;return Object(g.jsx)("div",{children:1===n?Object(g.jsxs)("div",(t={"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Cliquez pour visionner le live",className:"row col-11 col-sm-9 col-md-7 col-lg-8 offset-sm-3 offset-md-4 offset-1 offset-lg-3 cadreBouton ".concat(o)},Object(P.a)(t,"data-bs-toggle","modal"),Object(P.a)(t,"data-bs-target","#ModalTarget"),Object(P.a)(t,"children",[Object(g.jsx)("div",{className:"col-1 col-md-1 col-sm-2",children:Object(g.jsx)("i",{class:"bi bi-camera-video"})}),Object(g.jsx)("div",{className:"col-3 col-sm-2 col-md-2 offset",children:a}),Object(g.jsx)(q,{nom:a,status:n,id:c}),Object(g.jsx)(V,{idName:o})]),t)):Object(g.jsxs)("div",{className:"row col-11 col-sm-9 col-md-7 col-lg-8 offset-sm-3 offset-md-4 offset-1 offset-lg-3 cadreBouton ".concat(o),children:[Object(g.jsx)("div",{className:"col-1 col-md-1 col-sm-2",children:Object(g.jsx)("i",{class:"bi bi-camera-video-off"})}),Object(g.jsx)("div",{className:"col-3 col-sm-2 col-md-2 offset",children:a}),Object(g.jsx)(q,{nom:a,status:n,id:c})]})})};c(339);var U,D=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){fetch("/api/camera",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return console.log(e),e.json()})).then((function(e){n(e)}))}),[]),Object(g.jsxs)("div",{className:"cam2",children:[Object(g.jsx)("div",{className:"titre offset-lg-5 offset-md-4 offset-sm-4 offset-2",children:"Page de gestion des cam\xe9ras"}),Object(g.jsx)("div",{class:"container",children:Object(g.jsx)("div",{className:"row",children:c&&c.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(H,{nomCam:e.name_camera,statusCam:e.id_status,idCam:e.id_camera,nomStatus:e.name_status})})}))})})]})},R=c(100),J=c(13),W=c(125),K=c.n(W),X=c(181),Q=c(182),Y=c(190),Z=(c(341),c(78)),$=c(183),ee=c(184).a.div(U||(U=Object(Q.a)(["\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  margin: 0px;\n  border-radius: 50%;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n"]))),te={autoClose:4e3,position:"bottom-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"};var ce=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=(t[1],Object(a.useState)("")),o=Object(l.a)(n,2),s=(o[0],o[1]),r=Object(a.useState)(""),i=Object(l.a)(r,2),d=(i[0],i[1]),b=[],m=Object(a.useState)(""),u=Object(l.a)(m,2),j=u[0],h=u[1],f=Object(a.useState)([]),p=Object(l.a)(f,2),O=p[0],x=p[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),N=y[0],w=y[1],k=Object(a.useState)(null),S=Object(l.a)(k,2),_=(S[0],S[1]),E=Object(a.useState)(null),T=Object(l.a)(E,2),A=T[0],G=T[1],I=Object(a.useState)(""),M=Object(l.a)(I,2),z=M[0],F=M[1],B=Object(a.useState)(""),L=Object(l.a)(B,2),P=L[0],q=L[1],V=Object(a.useState)(""),H=Object(l.a)(V,2),U=(H[0],H[1]),D=Object(a.useState)(0),R=Object(l.a)(D,2),J=R[0],W=R[1],Q=Object(a.useState)(""),ce=Object(l.a)(Q,2),ae=ce[0],ne=ce[1],oe=Object(a.useState)(null),se=Object(l.a)(oe,2),le=se[0],re=se[1],ie=function(e){fetch("/api/membres/".concat(e,"/grade"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){q(e[0].name_grade),F(e[0].color),U(e.id_grade),_(!0)}))},de=function(e){console.log(e);fetch("/api/membres/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0].first_name.replaceAll("\\s+",""),c=e[0].last_name.replaceAll("\\s+",""),a=t.replace(/\s+/g,"")+" "+c.replace(/\s+/g,"");a.replace(/\s+/g,""),s(t),d(c),h(a),_(!0)}))},be={},me=function(e){fetch("/api/membres/".concat(e,"/photos/count"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){G(e[0].count),_(!0)}))},ue=function(e){fetch("/api/membres/".concat(e,"/photos"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t in x(e),e)b.push(e[t].pictures),w(e[0].pictures);_(!0)})),w(b[0])},je=Object(g.jsx)(Z.a,{id:"popover-basic",children:Object(g.jsx)(Z.a.Body,{id:"popover-test",children:Object(g.jsx)("div",{class:"row",children:O.map((function(e){return Object(g.jsxs)("div",{class:" test col",children:[Object(g.jsx)("i",{class:"bi bi-x-circle-fill pr-2 mb-3",onClick:function(){return function(e){console.log(e),fetch("/api/membres/".concat(ae,"/eliminate/photo"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e})}).then((function(e){console.log(e),200===e.status?(C.b.success("Vous venez d'effacer la photo",te),ue(ae),me(ae)):C.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))}(e.pictures)}}),Object(g.jsx)("img",{class:"img-thumbnail h-50",src:e.pictures,alt:""})]})}))})})}),he=function(){var e=Object(X.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(t),de(t),ie(t),ue(t),me(t),fetch("/api/grades",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){re(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C.a,{style:{fontSize:"0.6rem"}}),Object(g.jsx)("button",{type:"button",onClick:function(){he(1)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 1"}),Object(g.jsx)("button",{type:"button",onClick:function(){return he(2)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 2"}),Object(g.jsx)("button",{type:"button",onClick:function(){return he(3)},class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"User 3"}),Object(g.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(g.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(g.jsxs)("div",{class:"modal-content",style:{backgroundColor:z},children:[Object(g.jsxs)("div",{class:"modal-body",children:[Object(g.jsx)("div",{class:"hovereffect",children:Object(g.jsxs)("div",{class:"row",children:[Object(g.jsx)("div",{class:"col",children:Object(g.jsxs)(ee,{children:[Object(g.jsx)("img",{src:N,alt:""}),Object(g.jsx)(Y.a,{trigger:"click",placement:"right",overlay:je,children:Object(g.jsx)("span",{className:"badge nineplus",children:A})})]})}),Object(g.jsx)("div",{class:"col"})]})}),Object(g.jsx)("div",{class:"tool",children:0===J?Object(g.jsxs)("p",{class:"affiche",children:[" ",P.toUpperCase()," ",Object(g.jsx)("i",{onClick:function(){W(1),le.map((function(e){return be[e.name_grade]=e.color.replace(/\s+/g,"")})),P in be&&delete be[P]},className:"bi bi-pencil-square",style:{color:"white",background:z,backgroundSize:"10px",fontSize:"80%",textAlign:"right",paddingRight:"10px ",paddingLeft:"4px"}})]}):le.map((function(e){return e.name_grade!==P?Object(g.jsx)("i",{onClick:function(){var t;t=e.id_grade,fetch("/api/membres/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userNow:ae})}).then((function(e){console.log(e),200===e.status?C.b.success("Vous venez de modifier le grade de l'utilisateur",te):C.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")})),he(ae),W(0)},className:"bi bi-person-square",style:{color:e.color,border:"10px black",fontSize:"100%",background:z,textAlign:"right",paddingRight:"20px"}},e.name_grade):""}))})]}),Object(g.jsx)("div",{class:"col-12",children:Object(g.jsx)($.a,{value:j,type:"text",onSave:function(e){var t=e.split(/(\s+)/).filter((function(e){return e.trim().length>0})),c=t[0],a=t[1];fetch("/api/membres/".concat(ae,"/update"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,surname:a})}).then((function(e){console.log(e),200===e.status?C.b.success("Vous venez de modifier le nom et pr\xe9nom de cet utilisateur",te):C.b.error("Une erreur s'est produite. Veuillez r\xe9essayer. Si l'erreur persite, contactez-nous")}))},editing:c,buttonsAlign:"before"})})]})})})]})};var ae=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),r=s[0],i=s[1],d=Object(a.useState)(0),b=Object(l.a)(d,2);return b[0],b[1],Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(g.jsxs)("div",{class:"mb-3",children:[Object(g.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Nom d'utilisateuuuuuuuur"}),Object(g.jsx)("input",{type:"text",placeholder:"toto",value:c,onChange:function(e){return n(e.target.value)},class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(g.jsxs)("div",{class:"mb-3",children:[Object(g.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(g.jsx)("input",{type:"password",placeholder:"",value:r,onChange:function(e){return i(e.target.value)},class:"form-control",id:"exampleInputPassword1"})]}),Object(g.jsx)("button",{onClick:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:r})};fetch("/api/login",e).then((function(e){return e.json()})).then((function(e){console.log(e.value),e.value&&(localStorage.setItem("access_token",e.value),null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")&&window.location.replace("/home"))}))},class:"btn btn-primary",children:"Connecter"}),Object(g.jsx)("br",{})]})})})};function ne(){return null!==localStorage.getItem("access_token")&&"undefined"!==localStorage.getItem("access_token")}var oe=c(5),se=c(25),le=["component"],re=function(e){var t=e.component,c=Object(se.a)(e,le);return Object(g.jsx)(J.b,Object(oe.a)(Object(oe.a)({},c),{},{render:function(e){return ne()?Object(g.jsx)(t,Object(oe.a)({},e)):Object(g.jsx)(J.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};c(175);function ie(e){var t=e.href,c=e.text,a=e.icon;return Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsxs)("a",{href:t,className:"nav-link-main",children:[Object(g.jsx)("i",{class:"bi ".concat(a," m-4"),style:{fontSize:"2rem"}}),Object(g.jsx)("span",{className:"link-text",style:{fontWeight:"500"},children:c})]})})}ie.defaultProps={href:"home",dataIcon:"house",text:"Accueil",d:"M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z",className:"fa-house",viewBox:"0 0 576 512"};var de=ie;var be=function(){return Object(g.jsx)("nav",{className:"navbar-main",children:Object(g.jsxs)("ul",{className:"navbar-nav",children:[Object(g.jsx)(de,{href:"home",text:"ACCUEIL",icon:"bi-house",style:{fontSize:"2rem"}}),Object(g.jsx)(de,{href:"cameras",text:"CAM\xc9RAS",icon:"bi-camera-video",style:{fontSize:"2rem"}}),Object(g.jsx)(de,{href:"grades",text:"GRADES",icon:"bi-diagram-3",style:{fontSize:"2rem"}}),Object(g.jsx)(de,{href:"members",text:"MEMBRES",icon:"bi-people",style:{fontSize:"2rem"}}),Object(g.jsx)(de,{href:"pictures",text:"GALERIE",icon:"bi-images",style:{fontSize:"2rem"}}),Object(g.jsx)(de,{href:"settings",text:"PARAMETRES",icon:"bi-gear",style:{fontSize:"2rem"}})]})})};var me=function(){return ne()?Object(g.jsx)(R.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(be,{}),Object(g.jsx)("div",{className:"content",children:Object(g.jsxs)(J.d,{children:[Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:B,path:"/grades"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:L,path:"/camera"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/accueil"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:w,path:"/members"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/home"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),path:"/modification",component:ce}),Object(g.jsx)(J.b,{path:"/login",exact:!0,component:ae})]})})]})}):Object(g.jsx)(R.a,{children:Object(g.jsx)("div",{className:"App",children:Object(g.jsx)("div",{className:"content",children:Object(g.jsxs)(J.d,{children:[Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:B,path:"/grades"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:L,path:"/camera"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/accueil"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:w,path:"/members"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),component:D,path:"/home"}),Object(g.jsx)(re,{exact:!0,isloggedin:ne(),path:"/modification",component:ce}),Object(g.jsx)(J.b,{path:"/login",exact:!0,component:ae})]})})})})},ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,354)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),o(e),s(e)}))};s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(me,{})}),document.getElementById("root")),ue()},38:function(e,t,c){}},[[348,1,2]]]);
//# sourceMappingURL=main.01ff332c.chunk.js.map